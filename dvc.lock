schema: '2.0'
stages:
  install:
    cmd:
    - python3 -m venv venv
    - source venv/bin/activate && pip install -U pip wheel setuptools && pip install
      -r requirements.txt
    - cp requirements.txt venv-installed
    deps:
    - path: requirements.txt
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    outs:
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
  load-vocab:
    cmd: venv/bin/annif load-vocab --force yso corpora/yso-skos.ttl
    deps:
    - path: corpora/yso-skos.ttl
      hash: md5
      md5: a6fc20d8b30abdba44ab76c9893b7459
      size: 36430727
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    outs:
    - path: data/vocabs/yso
      hash: md5
      md5: b23a8c736fa0ecfae192ff6b20d2e0ef.dir
      size: 65688545
      nfiles: 3
  train-mllm@fi:
    cmd: venv/bin/annif train yso-mllm-fi corpora/fulltext-train/fi/*/ -j 16
    deps:
    - path: corpora/fulltext-train/fi
      hash: md5
      md5: 36d8cc0b2da5258b6eb85d8e42d663e9.dir
      size: 413860422
      nfiles: 5583
    - path: data/vocabs/yso
      hash: md5
      md5: b23a8c736fa0ecfae192ff6b20d2e0ef.dir
      size: 65688545
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    params:
      projects.toml:
        yso-mllm-fi:
          name: YSO MLLM Finnish
          language: fi
          backend: mllm
          analyzer: voikko(fi)
          vocab: yso
          limit: '1000'
          transform: limit(3000000)
          access: hidden
    outs:
    - path: data/projects/yso-mllm-fi
      hash: md5
      md5: d9c87004b964660650f8962c9b59d7bb.dir
      size: 35176094
      nfiles: 2
  train-mllm@en:
    cmd: venv/bin/annif train yso-mllm-en corpora/fulltext-train/en/*/ -j 16
    deps:
    - path: corpora/fulltext-train/en
      hash: md5
      md5: 4a9d8498166294c34d5a135a6c977014.dir
      size: 268351891
      nfiles: 4584
    - path: data/vocabs/yso
      hash: md5
      md5: b23a8c736fa0ecfae192ff6b20d2e0ef.dir
      size: 65688545
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    params:
      projects.toml:
        yso-mllm-en:
          name: YSO MLLM English
          language: en
          backend: mllm
          analyzer: snowball(english)
          vocab: yso
          limit: '1000'
          transform: limit(2500000)
          access: hidden
    outs:
    - path: data/projects/yso-mllm-en
      hash: md5
      md5: 20a3d8e02c8c7381539558f424515cf5.dir
      size: 39304442
      nfiles: 2
  train-mllm@sv:
    cmd: venv/bin/annif train yso-mllm-sv corpora/fulltext-train/sv/*/ -j 16
    deps:
    - path: corpora/fulltext-train/sv
      hash: md5
      md5: cdf14639a470284dda85e5ebc1aa1e24.dir
      size: 155099310
      nfiles: 3754
    - path: data/vocabs/yso
      hash: md5
      md5: b23a8c736fa0ecfae192ff6b20d2e0ef.dir
      size: 65688545
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    params:
      projects.toml:
        yso-mllm-sv:
          name: YSO MLLM Swedish
          language: sv
          backend: mllm
          analyzer: snowball(swedish)
          vocab: yso
          limit: '1000'
          transform: limit(3000000)
          access: hidden
    outs:
    - path: data/projects/yso-mllm-sv
      hash: md5
      md5: 98e8aeab9ba2607738c19ab96f1aeed3.dir
      size: 18606829
      nfiles: 2
  train-omikuji@sv:
    cmd: venv/bin/annif train yso-bonsai-sv corpora/shorttext-train/sv/yso-finna-sv*.tsv.gz
    deps:
    - path: corpora/shorttext-train/sv/
      hash: md5
      md5: 69a0fd4883227bb6ad4bf7e128dfe0de.dir
      size: 43928773
      nfiles: 3
    - path: data/vocabs/yso
      hash: md5
      md5: b23a8c736fa0ecfae192ff6b20d2e0ef.dir
      size: 65688545
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    params:
      projects.toml:
        yso-bonsai-sv:
          name: YSO Omikuji Bonsai Swedish
          language: sv
          backend: omikuji
          analyzer: snowball(swedish)
          vocab: yso
          cluster_balanced: 'False'
          cluster_k: '100'
          max_depth: '3'
          min_df: '2'
          ngram: '2'
          limit: '1000'
          transform: limit(5000)
          access: hidden
    outs:
    - path: data/projects/yso-bonsai-sv
      hash: md5
      md5: bfb4cab000b6ac7acaf1980498527af1.dir
      size: 1070339052
      nfiles: 6
  train-omikuji@en:
    cmd: venv/bin/annif train yso-bonsai-en corpora/shorttext-train/en/yso-finna-en*.tsv.gz
    deps:
    - path: corpora/shorttext-train/en/
      hash: md5
      md5: a8b073bf37c5500a124faeed38a2e2d0.dir
      size: 103265382
      nfiles: 3
    - path: data/vocabs/yso
      hash: md5
      md5: b23a8c736fa0ecfae192ff6b20d2e0ef.dir
      size: 65688545
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    params:
      projects.toml:
        yso-bonsai-en:
          name: YSO Omikuji Bonsai English
          language: en
          backend: omikuji
          analyzer: simple
          vocab: yso
          cluster_balanced: 'False'
          cluster_k: '100'
          max_depth: '3'
          min_df: '5'
          ngram: '2'
          limit: '1000'
          transform: limit(5000)
          access: hidden
    outs:
    - path: data/projects/yso-bonsai-en
      hash: md5
      md5: 7b9a54a5df74fc36eed9f9635e8bd702.dir
      size: 2386910098
      nfiles: 6
  train-omikuji@fi:
    cmd: venv/bin/annif train yso-bonsai-fi corpora/shorttext-train/fi/yso-finna-fi*.tsv.gz
    deps:
    - path: corpora/shorttext-train/fi/
      hash: md5
      md5: 92116434e57b3b3b6c55fc4ced0abead.dir
      size: 370123943
      nfiles: 9
    - path: data/vocabs/yso
      hash: md5
      md5: b23a8c736fa0ecfae192ff6b20d2e0ef.dir
      size: 65688545
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    params:
      projects.toml:
        yso-bonsai-fi:
          name: YSO Omikuji Bonsai Finnish
          language: fi
          backend: omikuji
          analyzer: snowball(finnish)
          vocab: yso
          cluster_balanced: 'False'
          cluster_k: '100'
          max_depth: '3'
          min_df: '5'
          ngram: '2'
          limit: '1000'
          transform: limit(5000)
          access: hidden
    outs:
    - path: data/projects/yso-bonsai-fi
      hash: md5
      md5: d92cd49e776d15bd8e16ff8e80b6c67c.dir
      size: 5384831158
      nfiles: 6
  train-fasttext@sv:
    cmd: venv/bin/annif train yso-fasttext-sv corpora/shorttext-train/sv/yso-finna-sv*.tsv.gz
    deps:
    - path: corpora/shorttext-train/sv/
      hash: md5
      md5: 69a0fd4883227bb6ad4bf7e128dfe0de.dir
      size: 43928773
      nfiles: 3
    - path: data/vocabs/yso
      hash: md5
      md5: b23a8c736fa0ecfae192ff6b20d2e0ef.dir
      size: 65688545
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    params:
      projects.toml:
        yso-fasttext-sv:
          name: YSO fastText Swedish
          language: sv
          backend: fasttext
          analyzer: snowball(swedish)
          dim: '560'
          lr: '0.974349'
          epoch: '110'
          minn: '2'
          maxn: '6'
          minCount: '2'
          wordNgrams: '2'
          loss: hs
          limit: '1000'
          chunksize: '24'
          vocab: yso
          transform: limit(15000),filter_lang,limit(5000)
          access: hidden
    outs:
    - path: data/projects/yso-fasttext-sv
      hash: md5
      md5: afacce7ea0a1b2ca80fbce3b5c65264b.dir
      size: 4930575521
      nfiles: 2
  train-fasttext@fi:
    cmd: venv/bin/annif train yso-fasttext-fi corpora/shorttext-train/fi/yso-finna-fi*.tsv.gz
    deps:
    - path: corpora/shorttext-train/fi/
      hash: md5
      md5: 92116434e57b3b3b6c55fc4ced0abead.dir
      size: 370123943
      nfiles: 9
    - path: data/vocabs/yso
      hash: md5
      md5: b23a8c736fa0ecfae192ff6b20d2e0ef.dir
      size: 65688545
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    params:
      projects.toml:
        yso-fasttext-fi:
          name: YSO fastText Finnish
          language: fi
          backend: fasttext
          analyzer: voikko(fi)
          dim: '660'
          lr: '0.506539'
          epoch: '75'
          minn: '2'
          maxn: '7'
          minCount: '2'
          wordNgrams: '2'
          loss: hs
          limit: '1000'
          chunksize: '24'
          vocab: yso
          transform: limit(15000),filter_lang,limit(5000)
          access: hidden
    outs:
    - path: data/projects/yso-fasttext-fi
      hash: md5
      md5: 2393489ce3c0f83c22d160c3d666d295.dir
      size: 7608992813
      nfiles: 2
  train-fasttext@en:
    cmd: venv/bin/annif train yso-fasttext-en corpora/shorttext-train/en/yso-finna-en*.tsv.gz
    deps:
    - path: corpora/shorttext-train/en/
      hash: md5
      md5: a8b073bf37c5500a124faeed38a2e2d0.dir
      size: 103265382
      nfiles: 3
    - path: data/vocabs/yso
      hash: md5
      md5: b23a8c736fa0ecfae192ff6b20d2e0ef.dir
      size: 65688545
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    params:
      projects.toml:
        yso-fasttext-en:
          name: YSO fastText English
          language: en
          backend: fasttext
          analyzer: snowball(english)
          dim: '430'
          lr: '0.506539'
          epoch: '115'
          minn: '4'
          maxn: '5'
          minCount: '1'
          wordNgrams: '2'
          loss: hs
          limit: '1000'
          chunksize: '24'
          vocab: yso
          transform: limit(15000),filter_lang,limit(5000)
          access: hidden
    outs:
    - path: data/projects/yso-fasttext-en
      hash: md5
      md5: c334dfce6f40131eb832cf94701210bf.dir
      size: 4106595404
      nfiles: 2
  train-nn-ensemble@sv:
    cmd: venv/bin/annif train yso-sv corpora/fulltext-train/sv/*/ -j 16
    deps:
    - path: corpora/fulltext-train/sv
      hash: md5
      md5: cdf14639a470284dda85e5ebc1aa1e24.dir
      size: 155099310
      nfiles: 3754
    - path: data/projects/yso-bonsai-sv
      hash: md5
      md5: bfb4cab000b6ac7acaf1980498527af1.dir
      size: 1070339052
      nfiles: 6
    - path: data/projects/yso-fasttext-sv
      hash: md5
      md5: afacce7ea0a1b2ca80fbce3b5c65264b.dir
      size: 4930575521
      nfiles: 2
    - path: data/projects/yso-mllm-sv
      hash: md5
      md5: 98e8aeab9ba2607738c19ab96f1aeed3.dir
      size: 18606829
      nfiles: 2
    - path: data/vocabs/yso
      hash: md5
      md5: b23a8c736fa0ecfae192ff6b20d2e0ef.dir
      size: 65688545
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    params:
      projects.toml:
        yso-sv:
          name: ALLFO svenska (2024.2.Ikhwan-al-Safa)
          language: sv
          backend: nn_ensemble
          sources: yso-mllm-sv:0.1439,yso-fasttext-sv:0.3302,yso-bonsai-sv:0.5259
          limit: '100'
          vocab: yso
          nodes: '100'
          dropout_rate: '0.2'
          epochs: '10'
    outs:
    - path: data/projects/yso-sv
      hash: md5
      md5: a2f94629d59b315709f2db028cc47e40.dir
      size: 1262359045
      nfiles: 3
  train-nn-ensemble@en:
    cmd: venv/bin/annif train yso-en corpora/fulltext-train/en/*/ -j 16
    deps:
    - path: corpora/fulltext-train/en
      hash: md5
      md5: 4a9d8498166294c34d5a135a6c977014.dir
      size: 268351891
      nfiles: 4584
    - path: data/projects/yso-bonsai-en
      hash: md5
      md5: 7b9a54a5df74fc36eed9f9635e8bd702.dir
      size: 2386910098
      nfiles: 6
    - path: data/projects/yso-fasttext-en
      hash: md5
      md5: c334dfce6f40131eb832cf94701210bf.dir
      size: 4106595404
      nfiles: 2
    - path: data/projects/yso-mllm-en
      hash: md5
      md5: 20a3d8e02c8c7381539558f424515cf5.dir
      size: 39304442
      nfiles: 2
    - path: data/vocabs/yso
      hash: md5
      md5: b23a8c736fa0ecfae192ff6b20d2e0ef.dir
      size: 65688545
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    params:
      projects.toml:
        yso-en:
          name: YSO English (2024.2.Ikhwan-al-Safa)
          language: en
          backend: nn_ensemble
          sources: yso-mllm-en:0.3426,yso-fasttext-en:0.1419,yso-bonsai-en:0.5155
          limit: '100'
          vocab: yso
          nodes: '100'
          dropout_rate: '0.2'
          epochs: '10'
    outs:
    - path: data/projects/yso-en
      hash: md5
      md5: 1e17a35b3f7f84015216596fa1618311.dir
      size: 1262359045
      nfiles: 3
  train-nn-ensemble@fi:
    cmd: venv/bin/annif train yso-fi corpora/fulltext-train/fi/*/ -j 16
    deps:
    - path: corpora/fulltext-train/fi
      hash: md5
      md5: 36d8cc0b2da5258b6eb85d8e42d663e9.dir
      size: 413860422
      nfiles: 5583
    - path: data/projects/yso-bonsai-fi
      hash: md5
      md5: d92cd49e776d15bd8e16ff8e80b6c67c.dir
      size: 5384831158
      nfiles: 6
    - path: data/projects/yso-fasttext-fi
      hash: md5
      md5: 2393489ce3c0f83c22d160c3d666d295.dir
      size: 7608992813
      nfiles: 2
    - path: data/projects/yso-mllm-fi
      hash: md5
      md5: d9c87004b964660650f8962c9b59d7bb.dir
      size: 35176094
      nfiles: 2
    - path: data/vocabs/yso
      hash: md5
      md5: b23a8c736fa0ecfae192ff6b20d2e0ef.dir
      size: 65688545
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    params:
      projects.toml:
        yso-fi:
          name: YSO suomi (2024.2.Ikhwan-al-Safa)
          language: fi
          backend: nn_ensemble
          sources: yso-mllm-fi:0.1492,yso-fasttext-fi:0.6090,yso-bonsai-fi:0.2418
          limit: '100'
          vocab: yso
          nodes: '100'
          dropout_rate: '0.2'
          epochs: '10'
    outs:
    - path: data/projects/yso-fi
      hash: md5
      md5: 0e4432583c3cd7433b357039c8727ff5.dir
      size: 1262359045
      nfiles: 3
  eval-fi@mllm:
    cmd:
    - venv/bin/annif eval yso-mllm-fi -j 1 -m F1@5 -m NDCG --metrics-file reports/mllm-fi-jyu-theses.json
      corpora/fulltext-test/fi/jyu-theses/
    - venv/bin/annif eval yso-mllm-fi -j 6 -m F1@5 -m NDCG --metrics-file reports/mllm-fi-kirjaesittelyt2021.json
      corpora/fulltext-test/fi/kirjaesittelyt2021/
    - venv/bin/annif eval yso-mllm-fi -j 1 -m F1@5 -m NDCG --metrics-file reports/mllm-fi-kirjastonhoitaja.json
      corpora/fulltext-test/fi/kirjastonhoitaja/
    - venv/bin/annif eval yso-mllm-fi -j 4 -m F1@5 -m NDCG --metrics-file reports/mllm-fi-satakunnan-kansa.json
      corpora/fulltext-test/fi/satakunnan-kansa-?/
    - venv/bin/annif eval yso-mllm-fi -j 10 -m F1@5 -m NDCG --metrics-file reports/mllm-fi-vapaakappaleet-orig.json
      corpora/fulltext-test/fi/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/fi
      md5: 169cae26a0b93733aed807f8e9d9ca40.dir
      size: 385626157
      nfiles: 7267
    - path: data/projects/yso-mllm-fi
      md5: c42dd794bb146ecf7cf60e5f49167ab2.dir
      size: 36078206
      nfiles: 2
    - path: venv-installed
      md5: abf841d22e1cdf25eb9e9ef2368c240d
      size: 49
    outs:
    - path: reports/mllm-fi-jyu-theses.json
      md5: 017241308807e76f5c4ecc675c280bfa
      size: 92
    - path: reports/mllm-fi-kirjaesittelyt2021.json
      md5: b289df9d0158a0e8c6cd74dd2df7d9c2
      size: 94
    - path: reports/mllm-fi-kirjastonhoitaja.json
      md5: 1ed10e3905a72ffe5181bc74ec27599d
      size: 93
    - path: reports/mllm-fi-satakunnan-kansa.json
      md5: 7100b02bb18dad3f8e8d073b7bff9e50
      size: 93
    - path: reports/mllm-fi-vapaakappaleet-orig.json
      md5: bb3ed842b8468708c1c064452b6b24f1
      size: 93
  eval-fi@bonsai:
    cmd:
    - venv/bin/annif eval yso-bonsai-fi -j 1 -m F1@5 -m NDCG --metrics-file reports/bonsai-fi-jyu-theses.json
      corpora/fulltext-test/fi/jyu-theses/
    - venv/bin/annif eval yso-bonsai-fi -j 6 -m F1@5 -m NDCG --metrics-file reports/bonsai-fi-kirjaesittelyt2021.json
      corpora/fulltext-test/fi/kirjaesittelyt2021/
    - venv/bin/annif eval yso-bonsai-fi -j 1 -m F1@5 -m NDCG --metrics-file reports/bonsai-fi-kirjastonhoitaja.json
      corpora/fulltext-test/fi/kirjastonhoitaja/
    - venv/bin/annif eval yso-bonsai-fi -j 4 -m F1@5 -m NDCG --metrics-file reports/bonsai-fi-satakunnan-kansa.json
      corpora/fulltext-test/fi/satakunnan-kansa-?/
    - venv/bin/annif eval yso-bonsai-fi -j 10 -m F1@5 -m NDCG --metrics-file reports/bonsai-fi-vapaakappaleet-orig.json
      corpora/fulltext-test/fi/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/fi
      md5: 169cae26a0b93733aed807f8e9d9ca40.dir
      size: 385626157
      nfiles: 7267
    - path: data/projects/yso-bonsai-fi
      md5: e065094c56ff3a61e2a4648e47156c8f.dir
      size: 5277448954
      nfiles: 6
    - path: venv-installed
      md5: abf841d22e1cdf25eb9e9ef2368c240d
      size: 49
    outs:
    - path: reports/bonsai-fi-jyu-theses.json
      md5: 660095be4380591aa8c7f839ffbf1aa4
      size: 92
    - path: reports/bonsai-fi-kirjaesittelyt2021.json
      md5: 61540b3360540911b4ec3a934abb74ca
      size: 94
    - path: reports/bonsai-fi-kirjastonhoitaja.json
      md5: 95696330bd44571520752bdb4a460287
      size: 93
    - path: reports/bonsai-fi-satakunnan-kansa.json
      md5: 2bb5923811b0760695cb5ad2465469e5
      size: 93
    - path: reports/bonsai-fi-vapaakappaleet-orig.json
      md5: d369966bf45650f6b9643469343ab65d
      size: 93
  eval-fi@fasttext:
    cmd:
    - venv/bin/annif eval yso-fasttext-fi -j 1 -m F1@5 -m NDCG --metrics-file reports/fasttext-fi-jyu-theses.json
      corpora/fulltext-test/fi/jyu-theses/
    - venv/bin/annif eval yso-fasttext-fi -j 6 -m F1@5 -m NDCG --metrics-file reports/fasttext-fi-kirjaesittelyt2021.json
      corpora/fulltext-test/fi/kirjaesittelyt2021/
    - venv/bin/annif eval yso-fasttext-fi -j 1 -m F1@5 -m NDCG --metrics-file reports/fasttext-fi-kirjastonhoitaja.json
      corpora/fulltext-test/fi/kirjastonhoitaja/
    - venv/bin/annif eval yso-fasttext-fi -j 4 -m F1@5 -m NDCG --metrics-file reports/fasttext-fi-satakunnan-kansa.json
      corpora/fulltext-test/fi/satakunnan-kansa-?/
    - venv/bin/annif eval yso-fasttext-fi -j 10 -m F1@5 -m NDCG --metrics-file reports/fasttext-fi-vapaakappaleet-orig.json
      corpora/fulltext-test/fi/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/fi
      md5: 169cae26a0b93733aed807f8e9d9ca40.dir
      size: 385626157
      nfiles: 7267
    - path: data/projects/yso-fasttext-fi
      md5: 0f5c9eb966671d610e8d8556b270652c.dir
      size: 7519964475
      nfiles: 2
    - path: venv-installed
      md5: abf841d22e1cdf25eb9e9ef2368c240d
      size: 49
    outs:
    - path: reports/fasttext-fi-jyu-theses.json
      md5: 339a05b2faa098074a7717ef6677048b
      size: 93
    - path: reports/fasttext-fi-kirjaesittelyt2021.json
      md5: b0425400c2513d8580bf726bc0b487d3
      size: 94
    - path: reports/fasttext-fi-kirjastonhoitaja.json
      md5: 7fe1e06726e05effef46a1cb97078d72
      size: 92
    - path: reports/fasttext-fi-satakunnan-kansa.json
      md5: 63b1b03ad124c17bc3570188f1855ec9
      size: 93
    - path: reports/fasttext-fi-vapaakappaleet-orig.json
      md5: 0acd6e385633742bd18513109a5a87dc
      size: 94
  eval-sv@mllm:
    cmd:
    - venv/bin/annif eval yso-mllm-sv -j 1 -m F1@5 -m NDCG --metrics-file reports/mllm-sv-abo-theses.json
      corpora/fulltext-test/sv/abo-theses/
    - venv/bin/annif eval yso-mllm-sv -j 1 -m F1@5 -m NDCG --metrics-file reports/mllm-sv-jyu-theses.json
      corpora/fulltext-test/sv/jyu-theses/
    - venv/bin/annif eval yso-mllm-sv -j 6 -m F1@5 -m NDCG --metrics-file reports/mllm-sv-kirjaesittelyt2021.json
      corpora/fulltext-test/sv/kirjaesittelyt2021/
    - venv/bin/annif eval yso-mllm-sv -j 10 -m F1@5 -m NDCG --metrics-file reports/mllm-sv-vapaakappaleet-orig.json
      corpora/fulltext-test/sv/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/sv
      md5: 2d29064639aa0f8900e4bf58a781826e.dir
      size: 66510456
      nfiles: 1876
    - path: data/projects/yso-mllm-sv
      md5: fc2e344bac4abd0048c7c286ffdba0eb.dir
      size: 19904278
      nfiles: 2
    - path: venv-installed
      md5: abf841d22e1cdf25eb9e9ef2368c240d
      size: 49
    outs:
    - path: reports/mllm-sv-abo-theses.json
      md5: 0d6f871b92dfb263c56e17f644e99513
      size: 92
    - path: reports/mllm-sv-jyu-theses.json
      md5: 81f8eb0a6908169aeb2ba236a0baf3f7
      size: 91
    - path: reports/mllm-sv-kirjaesittelyt2021.json
      md5: 0886460a79805dd7698d6c7f60f2ab2d
      size: 93
    - path: reports/mllm-sv-vapaakappaleet-orig.json
      md5: d55b237633198997361b7aab0ba7d10b
      size: 92
  eval-sv@bonsai:
    cmd:
    - venv/bin/annif eval yso-bonsai-sv -j 1 -m F1@5 -m NDCG --metrics-file reports/bonsai-sv-abo-theses.json
      corpora/fulltext-test/sv/abo-theses/
    - venv/bin/annif eval yso-bonsai-sv -j 1 -m F1@5 -m NDCG --metrics-file reports/bonsai-sv-jyu-theses.json
      corpora/fulltext-test/sv/jyu-theses/
    - venv/bin/annif eval yso-bonsai-sv -j 6 -m F1@5 -m NDCG --metrics-file reports/bonsai-sv-kirjaesittelyt2021.json
      corpora/fulltext-test/sv/kirjaesittelyt2021/
    - venv/bin/annif eval yso-bonsai-sv -j 10 -m F1@5 -m NDCG --metrics-file reports/bonsai-sv-vapaakappaleet-orig.json
      corpora/fulltext-test/sv/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/sv
      md5: 2d29064639aa0f8900e4bf58a781826e.dir
      size: 66510456
      nfiles: 1876
    - path: data/projects/yso-bonsai-sv
      md5: 325628ed10b5330b42fdf93489ab870d.dir
      size: 1035735788
      nfiles: 6
    - path: venv-installed
      md5: abf841d22e1cdf25eb9e9ef2368c240d
      size: 49
    outs:
    - path: reports/bonsai-sv-abo-theses.json
      md5: 65fd5a684e967d01b8527489b6ca38c3
      size: 93
    - path: reports/bonsai-sv-jyu-theses.json
      md5: 69084213079115f7f97cf16115d58010
      size: 91
    - path: reports/bonsai-sv-kirjaesittelyt2021.json
      md5: 1c2fe10783ce03e22dede97beb120c65
      size: 93
    - path: reports/bonsai-sv-vapaakappaleet-orig.json
      md5: f6e85d73d66e9f6cfc0cfa359ba6de73
      size: 92
  eval-sv@fasttext:
    cmd:
    - venv/bin/annif eval yso-fasttext-sv -j 1 -m F1@5 -m NDCG --metrics-file reports/fasttext-sv-abo-theses.json
      corpora/fulltext-test/sv/abo-theses/
    - venv/bin/annif eval yso-fasttext-sv -j 1 -m F1@5 -m NDCG --metrics-file reports/fasttext-sv-jyu-theses.json
      corpora/fulltext-test/sv/jyu-theses/
    - venv/bin/annif eval yso-fasttext-sv -j 6 -m F1@5 -m NDCG --metrics-file reports/fasttext-sv-kirjaesittelyt2021.json
      corpora/fulltext-test/sv/kirjaesittelyt2021/
    - venv/bin/annif eval yso-fasttext-sv -j 10 -m F1@5 -m NDCG --metrics-file reports/fasttext-sv-vapaakappaleet-orig.json
      corpora/fulltext-test/sv/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/sv
      md5: 2d29064639aa0f8900e4bf58a781826e.dir
      size: 66510456
      nfiles: 1876
    - path: data/projects/yso-fasttext-sv
      md5: 8d272558b0ec13606c0027af74be47e8.dir
      size: 4915577395
      nfiles: 2
    - path: venv-installed
      md5: abf841d22e1cdf25eb9e9ef2368c240d
      size: 49
    outs:
    - path: reports/fasttext-sv-abo-theses.json
      md5: ea4e5c8d3c72e853ce0bda1757cd4e41
      size: 93
    - path: reports/fasttext-sv-jyu-theses.json
      md5: 8e73efa922698dd1fa968f6dba4c779c
      size: 92
    - path: reports/fasttext-sv-kirjaesittelyt2021.json
      md5: 42fa4ff3fa951ecf07ce404a1c68d990
      size: 93
    - path: reports/fasttext-sv-vapaakappaleet-orig.json
      md5: c8c0290553be948bbd127572efc0fa95
      size: 93
  eval-en@fasttext:
    cmd:
    - venv/bin/annif eval yso-fasttext-en -j 1 -m F1@5 -m NDCG --metrics-file reports/fasttext-en-abo-theses.json
      corpora/fulltext-test/en/abo-theses/
    - venv/bin/annif eval yso-fasttext-en -j 1 -m F1@5 -m NDCG --metrics-file reports/fasttext-en-jyu-theses.json
      corpora/fulltext-test/en/jyu-theses/
    - venv/bin/annif eval yso-fasttext-en -j 6 -m F1@5 -m NDCG --metrics-file reports/fasttext-en-kirjaesittelyt2021.json
      corpora/fulltext-test/en/kirjaesittelyt2021/
    - venv/bin/annif eval yso-fasttext-en -j 10 -m F1@5 -m NDCG --metrics-file reports/fasttext-en-vapaakappaleet-orig.json
      corpora/fulltext-test/en/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/en
      md5: e6fd23c87a07631f24e52f568fad23ea.dir
      size: 331772939
      nfiles: 3825
    - path: data/projects/yso-fasttext-en
      md5: 625be5253a0eee61c44741e63acb1021.dir
      size: 4077282108
      nfiles: 2
    - path: venv-installed
      md5: abf841d22e1cdf25eb9e9ef2368c240d
      size: 49
    outs:
    - path: reports/fasttext-en-abo-theses.json
      md5: 66940ff0ea42d44ab1b429905c51858a
      size: 93
    - path: reports/fasttext-en-jyu-theses.json
      md5: 8bdfe2503c1a002d31121f48daf493db
      size: 92
    - path: reports/fasttext-en-kirjaesittelyt2021.json
      md5: 1d8d4ce09c768c644d34382497b5bb15
      size: 92
    - path: reports/fasttext-en-vapaakappaleet-orig.json
      md5: a8060ee8a76b5b3e7a5134d0edfdc5d9
      size: 92
  eval-en@mllm:
    cmd:
    - venv/bin/annif eval yso-mllm-en -j 1 -m F1@5 -m NDCG --metrics-file reports/mllm-en-abo-theses.json
      corpora/fulltext-test/en/abo-theses/
    - venv/bin/annif eval yso-mllm-en -j 1 -m F1@5 -m NDCG --metrics-file reports/mllm-en-jyu-theses.json
      corpora/fulltext-test/en/jyu-theses/
    - venv/bin/annif eval yso-mllm-en -j 6 -m F1@5 -m NDCG --metrics-file reports/mllm-en-kirjaesittelyt2021.json
      corpora/fulltext-test/en/kirjaesittelyt2021/
    - venv/bin/annif eval yso-mllm-en -j 10 -m F1@5 -m NDCG --metrics-file reports/mllm-en-vapaakappaleet-orig.json
      corpora/fulltext-test/en/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/en
      md5: e6fd23c87a07631f24e52f568fad23ea.dir
      size: 331772939
      nfiles: 3825
    - path: data/projects/yso-mllm-en
      md5: 03fe928341b019387a004ce33b85b220.dir
      size: 38643312
      nfiles: 2
    - path: venv-installed
      md5: abf841d22e1cdf25eb9e9ef2368c240d
      size: 49
    outs:
    - path: reports/mllm-en-abo-theses.json
      md5: 0cc714a7ee3c0a5d42f941da5719dd8c
      size: 92
    - path: reports/mllm-en-jyu-theses.json
      md5: c8bdc5f4f57799201b97ed62191c608c
      size: 92
    - path: reports/mllm-en-kirjaesittelyt2021.json
      md5: 121d0ac40869b4dd7b0a1fc6094e2c42
      size: 94
    - path: reports/mllm-en-vapaakappaleet-orig.json
      md5: e763f75300be26b3699d40a4cc119526
      size: 94
  eval-en@bonsai:
    cmd:
    - venv/bin/annif eval yso-bonsai-en -j 1 -m F1@5 -m NDCG --metrics-file reports/bonsai-en-abo-theses.json
      corpora/fulltext-test/en/abo-theses/
    - venv/bin/annif eval yso-bonsai-en -j 1 -m F1@5 -m NDCG --metrics-file reports/bonsai-en-jyu-theses.json
      corpora/fulltext-test/en/jyu-theses/
    - venv/bin/annif eval yso-bonsai-en -j 6 -m F1@5 -m NDCG --metrics-file reports/bonsai-en-kirjaesittelyt2021.json
      corpora/fulltext-test/en/kirjaesittelyt2021/
    - venv/bin/annif eval yso-bonsai-en -j 10 -m F1@5 -m NDCG --metrics-file reports/bonsai-en-vapaakappaleet-orig.json
      corpora/fulltext-test/en/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/en
      md5: e6fd23c87a07631f24e52f568fad23ea.dir
      size: 331772939
      nfiles: 3825
    - path: data/projects/yso-bonsai-en
      md5: 7b3c8486bbce25710e969ce706e9ac71.dir
      size: 2246619174
      nfiles: 6
    - path: venv-installed
      md5: abf841d22e1cdf25eb9e9ef2368c240d
      size: 49
    outs:
    - path: reports/bonsai-en-abo-theses.json
      md5: 109beeb488b023241e61fb4fddba1d35
      size: 93
    - path: reports/bonsai-en-jyu-theses.json
      md5: f917141ae8af29e6834359c35998e98d
      size: 92
    - path: reports/bonsai-en-kirjaesittelyt2021.json
      md5: 711601791fe7245a961e0bd5fdb6dccd
      size: 92
    - path: reports/bonsai-en-vapaakappaleet-orig.json
      md5: 2324260b996366b775fbf3c38a14a309
      size: 93
  eval-sv@fasttext-sv:
    cmd:
    - venv/bin/annif eval yso-fasttext-sv -j 1 -m F1@5 -m NDCG --metrics-file reports/fasttext-sv-abo-theses.json
      corpora/fulltext-test/sv/abo-theses/
    - venv/bin/annif eval yso-fasttext-sv -j 1 -m F1@5 -m NDCG --metrics-file reports/fasttext-sv-jyu-theses.json
      corpora/fulltext-test/sv/jyu-theses/
    - venv/bin/annif eval yso-fasttext-sv -j 10 -m F1@5 -m NDCG --metrics-file reports/fasttext-sv-kirjaesittelyt2021.json
      corpora/fulltext-test/sv/kirjaesittelyt2021/
    - venv/bin/annif eval yso-fasttext-sv -j 10 -m F1@5 -m NDCG --metrics-file reports/fasttext-sv-vapaakappaleet-orig.json
      corpora/fulltext-test/sv/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/sv
      hash: md5
      md5: deaec938e8f2d753575ec5f382c6e571.dir
      size: 66738091
      nfiles: 1878
    - path: data/projects/yso-fasttext-sv
      hash: md5
      md5: afacce7ea0a1b2ca80fbce3b5c65264b.dir
      size: 4930575521
      nfiles: 2
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    params:
      projects.toml:
        yso-fasttext-sv:
          name: YSO fastText Swedish
          language: sv
          backend: fasttext
          analyzer: snowball(swedish)
          dim: '560'
          lr: '0.974349'
          epoch: '110'
          minn: '2'
          maxn: '6'
          minCount: '2'
          wordNgrams: '2'
          loss: hs
          limit: '1000'
          chunksize: '24'
          vocab: yso
          transform: limit(15000),filter_lang,limit(5000)
          access: hidden
    outs:
    - path: reports/fasttext-sv-abo-theses.json
      hash: md5
      md5: 8d4462bcf73c327feac7f18f42487d1a
      size: 93
    - path: reports/fasttext-sv-jyu-theses.json
      hash: md5
      md5: f611383c19179541c53ff8d7c615537f
      size: 92
    - path: reports/fasttext-sv-kirjaesittelyt2021.json
      hash: md5
      md5: 2d740eabd3dcd6f61ba997faf7a7f5b8
      size: 92
    - path: reports/fasttext-sv-vapaakappaleet-orig.json
      hash: md5
      md5: 918af51d8cf605b0345322d81bea2fb7
      size: 94
  eval-sv@sv:
    cmd:
    - venv/bin/annif eval yso-sv -j 1 -m F1@5 -m NDCG --metrics-file reports/sv-abo-theses.json
      corpora/fulltext-test/sv/abo-theses/
    - venv/bin/annif eval yso-sv -j 1 -m F1@5 -m NDCG --metrics-file reports/sv-jyu-theses.json
      corpora/fulltext-test/sv/jyu-theses/
    - venv/bin/annif eval yso-sv -j 10 -m F1@5 -m NDCG --metrics-file reports/sv-kirjaesittelyt2021.json
      corpora/fulltext-test/sv/kirjaesittelyt2021/
    - venv/bin/annif eval yso-sv -j 10 -m F1@5 -m NDCG --metrics-file reports/sv-vapaakappaleet-orig.json
      corpora/fulltext-test/sv/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/sv
      hash: md5
      md5: deaec938e8f2d753575ec5f382c6e571.dir
      size: 66738091
      nfiles: 1878
    - path: data/projects/yso-sv
      hash: md5
      md5: a2f94629d59b315709f2db028cc47e40.dir
      size: 1262359045
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    params:
      projects.toml:
        yso-sv:
          name: ALLFO svenska (2024.2.Ikhwan-al-Safa)
          language: sv
          backend: nn_ensemble
          sources: yso-mllm-sv:0.1439,yso-fasttext-sv:0.3302,yso-bonsai-sv:0.5259
          limit: '100'
          vocab: yso
          nodes: '100'
          dropout_rate: '0.2'
          epochs: '10'
    outs:
    - path: reports/sv-abo-theses.json
      hash: md5
      md5: 202d24f7e09866c3197122474b217233
      size: 93
    - path: reports/sv-jyu-theses.json
      hash: md5
      md5: b3599ac5be80bd930500ebccc3ce7e20
      size: 91
    - path: reports/sv-kirjaesittelyt2021.json
      hash: md5
      md5: 00deb76433f56ed530d5ee9942b142e4
      size: 92
    - path: reports/sv-vapaakappaleet-orig.json
      hash: md5
      md5: f4bfdd35c80e6c5fc603895e1ac9775f
      size: 92
  eval-en@bonsai-en:
    cmd:
    - venv/bin/annif eval yso-bonsai-en -j 1 -m F1@5 -m NDCG --metrics-file reports/bonsai-en-abo-theses.json
      corpora/fulltext-test/en/abo-theses/
    - venv/bin/annif eval yso-bonsai-en -j 1 -m F1@5 -m NDCG --metrics-file reports/bonsai-en-jyu-theses.json
      corpora/fulltext-test/en/jyu-theses/
    - venv/bin/annif eval yso-bonsai-en -j 10 -m F1@5 -m NDCG --metrics-file reports/bonsai-en-kirjaesittelyt2021.json
      corpora/fulltext-test/en/kirjaesittelyt2021/
    - venv/bin/annif eval yso-bonsai-en -j 10 -m F1@5 -m NDCG --metrics-file reports/bonsai-en-vapaakappaleet-orig.json
      corpora/fulltext-test/en/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/en
      hash: md5
      md5: 0f6ff94585d8a7bb2d86601b85a0469c.dir
      size: 332654303
      nfiles: 3831
    - path: data/projects/yso-bonsai-en
      hash: md5
      md5: 7b9a54a5df74fc36eed9f9635e8bd702.dir
      size: 2386910098
      nfiles: 6
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    params:
      projects.toml:
        yso-bonsai-en:
          name: YSO Omikuji Bonsai English
          language: en
          backend: omikuji
          analyzer: simple
          vocab: yso
          cluster_balanced: 'False'
          cluster_k: '100'
          max_depth: '3'
          min_df: '5'
          ngram: '2'
          limit: '1000'
          transform: limit(5000)
          access: hidden
    outs:
    - path: reports/bonsai-en-abo-theses.json
      hash: md5
      md5: 2a9499116c3cbbe156f7c6a3d421465f
      size: 91
    - path: reports/bonsai-en-jyu-theses.json
      hash: md5
      md5: 3a75d112e3fc6f9d8b3303ee6120692b
      size: 92
    - path: reports/bonsai-en-kirjaesittelyt2021.json
      hash: md5
      md5: 7b5243a2ee40dde85c1a6b4b2688938b
      size: 92
    - path: reports/bonsai-en-vapaakappaleet-orig.json
      hash: md5
      md5: 90957dd905de4c41d26adce19b5e25cf
      size: 93
  eval-en@en:
    cmd:
    - venv/bin/annif eval yso-en -j 1 -m F1@5 -m NDCG --metrics-file reports/en-abo-theses.json
      corpora/fulltext-test/en/abo-theses/
    - venv/bin/annif eval yso-en -j 1 -m F1@5 -m NDCG --metrics-file reports/en-jyu-theses.json
      corpora/fulltext-test/en/jyu-theses/
    - venv/bin/annif eval yso-en -j 10 -m F1@5 -m NDCG --metrics-file reports/en-kirjaesittelyt2021.json
      corpora/fulltext-test/en/kirjaesittelyt2021/
    - venv/bin/annif eval yso-en -j 10 -m F1@5 -m NDCG --metrics-file reports/en-vapaakappaleet-orig.json
      corpora/fulltext-test/en/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/en
      hash: md5
      md5: 0f6ff94585d8a7bb2d86601b85a0469c.dir
      size: 332654303
      nfiles: 3831
    - path: data/projects/yso-en
      hash: md5
      md5: 1e17a35b3f7f84015216596fa1618311.dir
      size: 1262359045
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    params:
      projects.toml:
        yso-en:
          name: YSO English (2024.2.Ikhwan-al-Safa)
          language: en
          backend: nn_ensemble
          sources: yso-mllm-en:0.3426,yso-fasttext-en:0.1419,yso-bonsai-en:0.5155
          limit: '100'
          vocab: yso
          nodes: '100'
          dropout_rate: '0.2'
          epochs: '10'
    outs:
    - path: reports/en-abo-theses.json
      hash: md5
      md5: 9221d1fc30e22cffba6dfd52307fac42
      size: 93
    - path: reports/en-jyu-theses.json
      hash: md5
      md5: e463bd0ab9cf1dae2ed3bcd9037fcae3
      size: 92
    - path: reports/en-kirjaesittelyt2021.json
      hash: md5
      md5: b6953ba2ea8bf56ffa3918b61ffc342b
      size: 92
    - path: reports/en-vapaakappaleet-orig.json
      hash: md5
      md5: 1a2cbd704574b7c4472d832d44e31253
      size: 92
  eval-en@fasttext-en:
    cmd:
    - venv/bin/annif eval yso-fasttext-en -j 1 -m F1@5 -m NDCG --metrics-file reports/fasttext-en-abo-theses.json
      corpora/fulltext-test/en/abo-theses/
    - venv/bin/annif eval yso-fasttext-en -j 1 -m F1@5 -m NDCG --metrics-file reports/fasttext-en-jyu-theses.json
      corpora/fulltext-test/en/jyu-theses/
    - venv/bin/annif eval yso-fasttext-en -j 10 -m F1@5 -m NDCG --metrics-file reports/fasttext-en-kirjaesittelyt2021.json
      corpora/fulltext-test/en/kirjaesittelyt2021/
    - venv/bin/annif eval yso-fasttext-en -j 10 -m F1@5 -m NDCG --metrics-file reports/fasttext-en-vapaakappaleet-orig.json
      corpora/fulltext-test/en/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/en
      hash: md5
      md5: 0f6ff94585d8a7bb2d86601b85a0469c.dir
      size: 332654303
      nfiles: 3831
    - path: data/projects/yso-fasttext-en
      hash: md5
      md5: c334dfce6f40131eb832cf94701210bf.dir
      size: 4106595404
      nfiles: 2
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    params:
      projects.toml:
        yso-fasttext-en:
          name: YSO fastText English
          language: en
          backend: fasttext
          analyzer: snowball(english)
          dim: '430'
          lr: '0.506539'
          epoch: '115'
          minn: '4'
          maxn: '5'
          minCount: '1'
          wordNgrams: '2'
          loss: hs
          limit: '1000'
          chunksize: '24'
          vocab: yso
          transform: limit(15000),filter_lang,limit(5000)
          access: hidden
    outs:
    - path: reports/fasttext-en-abo-theses.json
      hash: md5
      md5: cbfafbf1d17a3721f5d5b31788f383ab
      size: 91
    - path: reports/fasttext-en-jyu-theses.json
      hash: md5
      md5: c41b330788fd2669eb5e599cda579911
      size: 94
    - path: reports/fasttext-en-kirjaesittelyt2021.json
      hash: md5
      md5: 4c39ebaaadc44ad00282df2229774340
      size: 92
    - path: reports/fasttext-en-vapaakappaleet-orig.json
      hash: md5
      md5: 7cfc556799151a43fc561aa2cfcd6b49
      size: 93
  eval-fi@fasttext-fi:
    cmd:
    - venv/bin/annif eval yso-fasttext-fi -j 10 -m F1@5 -m NDCG --metrics-file reports/fasttext-fi-jyu-theses.json
      corpora/fulltext-test/fi/jyu-theses/
    - venv/bin/annif eval yso-fasttext-fi -j 10 -m F1@5 -m NDCG --metrics-file reports/fasttext-fi-kirjaesittelyt2021.json
      corpora/fulltext-test/fi/kirjaesittelyt2021/
    - venv/bin/annif eval yso-fasttext-fi -j 1 -m F1@5 -m NDCG --metrics-file reports/fasttext-fi-kirjastonhoitaja.json
      corpora/fulltext-test/fi/kirjastonhoitaja/
    - venv/bin/annif eval yso-fasttext-fi -j 10 -m F1@5 -m NDCG --metrics-file reports/fasttext-fi-satakunnan-kansa.json
      corpora/fulltext-test/fi/satakunnan-kansa-?/
    - venv/bin/annif eval yso-fasttext-fi -j 10 -m F1@5 -m NDCG --metrics-file reports/fasttext-fi-vapaakappaleet-orig.json
      corpora/fulltext-test/fi/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/fi
      hash: md5
      md5: 9340f82e18940abac4eff8e4c4a9acfd.dir
      size: 385777175
      nfiles: 7267
    - path: data/projects/yso-fasttext-fi
      hash: md5
      md5: 2393489ce3c0f83c22d160c3d666d295.dir
      size: 7608992813
      nfiles: 2
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    params:
      projects.toml:
        yso-fasttext-fi:
          name: YSO fastText Finnish
          language: fi
          backend: fasttext
          analyzer: voikko(fi)
          dim: '660'
          lr: '0.506539'
          epoch: '75'
          minn: '2'
          maxn: '7'
          minCount: '2'
          wordNgrams: '2'
          loss: hs
          limit: '1000'
          chunksize: '24'
          vocab: yso
          transform: limit(15000),filter_lang,limit(5000)
          access: hidden
    outs:
    - path: reports/fasttext-fi-jyu-theses.json
      hash: md5
      md5: 99e0c3867fc56d9140a5635a300e3a5b
      size: 92
    - path: reports/fasttext-fi-kirjaesittelyt2021.json
      hash: md5
      md5: ef7ce6ec4e6d3448b0fa561e3c8bbbee
      size: 93
    - path: reports/fasttext-fi-kirjastonhoitaja.json
      hash: md5
      md5: 0055432e1188a3118e4708a2a50e6609
      size: 94
    - path: reports/fasttext-fi-satakunnan-kansa.json
      hash: md5
      md5: 6d8a3f7ed0d58b19f446ba335da7c280
      size: 93
    - path: reports/fasttext-fi-vapaakappaleet-orig.json
      hash: md5
      md5: 87568a8fa4652c200c7c8a8ce0268798
      size: 94
  eval-fi@mllm-fi:
    cmd:
    - venv/bin/annif eval yso-mllm-fi -j 10 -m F1@5 -m NDCG --metrics-file reports/mllm-fi-jyu-theses.json
      corpora/fulltext-test/fi/jyu-theses/
    - venv/bin/annif eval yso-mllm-fi -j 10 -m F1@5 -m NDCG --metrics-file reports/mllm-fi-kirjaesittelyt2021.json
      corpora/fulltext-test/fi/kirjaesittelyt2021/
    - venv/bin/annif eval yso-mllm-fi -j 1 -m F1@5 -m NDCG --metrics-file reports/mllm-fi-kirjastonhoitaja.json
      corpora/fulltext-test/fi/kirjastonhoitaja/
    - venv/bin/annif eval yso-mllm-fi -j 10 -m F1@5 -m NDCG --metrics-file reports/mllm-fi-satakunnan-kansa.json
      corpora/fulltext-test/fi/satakunnan-kansa-?/
    - venv/bin/annif eval yso-mllm-fi -j 10 -m F1@5 -m NDCG --metrics-file reports/mllm-fi-vapaakappaleet-orig.json
      corpora/fulltext-test/fi/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/fi
      hash: md5
      md5: 9340f82e18940abac4eff8e4c4a9acfd.dir
      size: 385777175
      nfiles: 7267
    - path: data/projects/yso-mllm-fi
      hash: md5
      md5: d9c87004b964660650f8962c9b59d7bb.dir
      size: 35176094
      nfiles: 2
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    params:
      projects.toml:
        yso-mllm-fi:
          name: YSO MLLM Finnish
          language: fi
          backend: mllm
          analyzer: voikko(fi)
          vocab: yso
          limit: '1000'
          transform: limit(3000000)
          access: hidden
    outs:
    - path: reports/mllm-fi-jyu-theses.json
      hash: md5
      md5: 1291b60639edb4a2fa56af055220f4d9
      size: 92
    - path: reports/mllm-fi-kirjaesittelyt2021.json
      hash: md5
      md5: 3e25f4a5cda3fab9425c3b85c2d29a4f
      size: 95
    - path: reports/mllm-fi-kirjastonhoitaja.json
      hash: md5
      md5: 7f43159c156ee06bf1b6e3fa7fafab22
      size: 93
    - path: reports/mllm-fi-satakunnan-kansa.json
      hash: md5
      md5: 75c7da5f11c728acf6b41f98e34f8f7f
      size: 93
    - path: reports/mllm-fi-vapaakappaleet-orig.json
      hash: md5
      md5: ca6c2fe8c34739c5b67897948a0eafec
      size: 95
  eval-fi@bonsai-fi:
    cmd:
    - venv/bin/annif eval yso-bonsai-fi -j 10 -m F1@5 -m NDCG --metrics-file reports/bonsai-fi-jyu-theses.json
      corpora/fulltext-test/fi/jyu-theses/
    - venv/bin/annif eval yso-bonsai-fi -j 10 -m F1@5 -m NDCG --metrics-file reports/bonsai-fi-kirjaesittelyt2021.json
      corpora/fulltext-test/fi/kirjaesittelyt2021/
    - venv/bin/annif eval yso-bonsai-fi -j 1 -m F1@5 -m NDCG --metrics-file reports/bonsai-fi-kirjastonhoitaja.json
      corpora/fulltext-test/fi/kirjastonhoitaja/
    - venv/bin/annif eval yso-bonsai-fi -j 10 -m F1@5 -m NDCG --metrics-file reports/bonsai-fi-satakunnan-kansa.json
      corpora/fulltext-test/fi/satakunnan-kansa-?/
    - venv/bin/annif eval yso-bonsai-fi -j 10 -m F1@5 -m NDCG --metrics-file reports/bonsai-fi-vapaakappaleet-orig.json
      corpora/fulltext-test/fi/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/fi
      hash: md5
      md5: 9340f82e18940abac4eff8e4c4a9acfd.dir
      size: 385777175
      nfiles: 7267
    - path: data/projects/yso-bonsai-fi
      hash: md5
      md5: d92cd49e776d15bd8e16ff8e80b6c67c.dir
      size: 5384831158
      nfiles: 6
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    params:
      projects.toml:
        yso-bonsai-fi:
          name: YSO Omikuji Bonsai Finnish
          language: fi
          backend: omikuji
          analyzer: snowball(finnish)
          vocab: yso
          cluster_balanced: 'False'
          cluster_k: '100'
          max_depth: '3'
          min_df: '5'
          ngram: '2'
          limit: '1000'
          transform: limit(5000)
          access: hidden
    outs:
    - path: reports/bonsai-fi-jyu-theses.json
      hash: md5
      md5: e99017486bc1387ba63180fb4ae1ab17
      size: 92
    - path: reports/bonsai-fi-kirjaesittelyt2021.json
      hash: md5
      md5: 687206a5b0e0377111e246430611c002
      size: 92
    - path: reports/bonsai-fi-kirjastonhoitaja.json
      hash: md5
      md5: cf061fc3ac54e3b0a4d293fff48e5724
      size: 93
    - path: reports/bonsai-fi-satakunnan-kansa.json
      hash: md5
      md5: 1ee759c52ed9807ed3480dd4a6d53127
      size: 93
    - path: reports/bonsai-fi-vapaakappaleet-orig.json
      hash: md5
      md5: 774c3de15f3d3528e06840be6146481b
      size: 94
  eval-en@mllm-en:
    cmd:
    - venv/bin/annif eval yso-mllm-en -j 1 -m F1@5 -m NDCG --metrics-file reports/mllm-en-abo-theses.json
      corpora/fulltext-test/en/abo-theses/
    - venv/bin/annif eval yso-mllm-en -j 1 -m F1@5 -m NDCG --metrics-file reports/mllm-en-jyu-theses.json
      corpora/fulltext-test/en/jyu-theses/
    - venv/bin/annif eval yso-mllm-en -j 10 -m F1@5 -m NDCG --metrics-file reports/mllm-en-kirjaesittelyt2021.json
      corpora/fulltext-test/en/kirjaesittelyt2021/
    - venv/bin/annif eval yso-mllm-en -j 10 -m F1@5 -m NDCG --metrics-file reports/mllm-en-vapaakappaleet-orig.json
      corpora/fulltext-test/en/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/en
      hash: md5
      md5: 0f6ff94585d8a7bb2d86601b85a0469c.dir
      size: 332654303
      nfiles: 3831
    - path: data/projects/yso-mllm-en
      hash: md5
      md5: 20a3d8e02c8c7381539558f424515cf5.dir
      size: 39304442
      nfiles: 2
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    params:
      projects.toml:
        yso-mllm-en:
          name: YSO MLLM English
          language: en
          backend: mllm
          analyzer: snowball(english)
          vocab: yso
          limit: '1000'
          transform: limit(2500000)
          access: hidden
    outs:
    - path: reports/mllm-en-abo-theses.json
      hash: md5
      md5: 4bc7bdbfe053fae6f17ac1d31afce100
      size: 93
    - path: reports/mllm-en-jyu-theses.json
      hash: md5
      md5: 47ba4955f5df771c02faf97ec75c002a
      size: 93
    - path: reports/mllm-en-kirjaesittelyt2021.json
      hash: md5
      md5: 564767c58810e68d17f59fdf9f0329d5
      size: 93
    - path: reports/mllm-en-vapaakappaleet-orig.json
      hash: md5
      md5: dbddcaf6f49d406861d8bdca20911861
      size: 92
  eval-sv@bonsai-sv:
    cmd:
    - venv/bin/annif eval yso-bonsai-sv -j 1 -m F1@5 -m NDCG --metrics-file reports/bonsai-sv-abo-theses.json
      corpora/fulltext-test/sv/abo-theses/
    - venv/bin/annif eval yso-bonsai-sv -j 1 -m F1@5 -m NDCG --metrics-file reports/bonsai-sv-jyu-theses.json
      corpora/fulltext-test/sv/jyu-theses/
    - venv/bin/annif eval yso-bonsai-sv -j 10 -m F1@5 -m NDCG --metrics-file reports/bonsai-sv-kirjaesittelyt2021.json
      corpora/fulltext-test/sv/kirjaesittelyt2021/
    - venv/bin/annif eval yso-bonsai-sv -j 10 -m F1@5 -m NDCG --metrics-file reports/bonsai-sv-vapaakappaleet-orig.json
      corpora/fulltext-test/sv/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/sv
      hash: md5
      md5: deaec938e8f2d753575ec5f382c6e571.dir
      size: 66738091
      nfiles: 1878
    - path: data/projects/yso-bonsai-sv
      hash: md5
      md5: bfb4cab000b6ac7acaf1980498527af1.dir
      size: 1070339052
      nfiles: 6
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    params:
      projects.toml:
        yso-bonsai-sv:
          name: YSO Omikuji Bonsai Swedish
          language: sv
          backend: omikuji
          analyzer: snowball(swedish)
          vocab: yso
          cluster_balanced: 'False'
          cluster_k: '100'
          max_depth: '3'
          min_df: '2'
          ngram: '2'
          limit: '1000'
          transform: limit(5000)
          access: hidden
    outs:
    - path: reports/bonsai-sv-abo-theses.json
      hash: md5
      md5: ace60fed9f9bdbcf598652170f535544
      size: 93
    - path: reports/bonsai-sv-jyu-theses.json
      hash: md5
      md5: b085a7c7ff9fb43d7494b0e62cd1e82f
      size: 91
    - path: reports/bonsai-sv-kirjaesittelyt2021.json
      hash: md5
      md5: cd70f2dea7147d30a9cf43af5fb99077
      size: 92
    - path: reports/bonsai-sv-vapaakappaleet-orig.json
      hash: md5
      md5: daef9ae14c94d27c9ad5104743b0b727
      size: 91
  eval-sv@mllm-sv:
    cmd:
    - venv/bin/annif eval yso-mllm-sv -j 1 -m F1@5 -m NDCG --metrics-file reports/mllm-sv-abo-theses.json
      corpora/fulltext-test/sv/abo-theses/
    - venv/bin/annif eval yso-mllm-sv -j 1 -m F1@5 -m NDCG --metrics-file reports/mllm-sv-jyu-theses.json
      corpora/fulltext-test/sv/jyu-theses/
    - venv/bin/annif eval yso-mllm-sv -j 10 -m F1@5 -m NDCG --metrics-file reports/mllm-sv-kirjaesittelyt2021.json
      corpora/fulltext-test/sv/kirjaesittelyt2021/
    - venv/bin/annif eval yso-mllm-sv -j 10 -m F1@5 -m NDCG --metrics-file reports/mllm-sv-vapaakappaleet-orig.json
      corpora/fulltext-test/sv/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/sv
      hash: md5
      md5: deaec938e8f2d753575ec5f382c6e571.dir
      size: 66738091
      nfiles: 1878
    - path: data/projects/yso-mllm-sv
      hash: md5
      md5: 98e8aeab9ba2607738c19ab96f1aeed3.dir
      size: 18606829
      nfiles: 2
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    params:
      projects.toml:
        yso-mllm-sv:
          name: YSO MLLM Swedish
          language: sv
          backend: mllm
          analyzer: snowball(swedish)
          vocab: yso
          limit: '1000'
          transform: limit(3000000)
          access: hidden
    outs:
    - path: reports/mllm-sv-abo-theses.json
      hash: md5
      md5: 8134db54c876495d9435f6e11ac74d6e
      size: 92
    - path: reports/mllm-sv-jyu-theses.json
      hash: md5
      md5: 9a9f433cfa4ba36c22f9f28fafe1dc36
      size: 92
    - path: reports/mllm-sv-kirjaesittelyt2021.json
      hash: md5
      md5: e18f8a03f3012a3d3cb86fb1bdb0eceb
      size: 93
    - path: reports/mllm-sv-vapaakappaleet-orig.json
      hash: md5
      md5: 0239adea964e4758024805204a193c7f
      size: 94
  eval-fi@fi:
    cmd:
    - venv/bin/annif eval yso-fi -j 10 -m F1@5 -m NDCG --metrics-file reports/fi-jyu-theses.json
      corpora/fulltext-test/fi/jyu-theses/
    - venv/bin/annif eval yso-fi -j 10 -m F1@5 -m NDCG --metrics-file reports/fi-kirjaesittelyt2021.json
      corpora/fulltext-test/fi/kirjaesittelyt2021/
    - venv/bin/annif eval yso-fi -j 1 -m F1@5 -m NDCG --metrics-file reports/fi-kirjastonhoitaja.json
      corpora/fulltext-test/fi/kirjastonhoitaja/
    - venv/bin/annif eval yso-fi -j 10 -m F1@5 -m NDCG --metrics-file reports/fi-satakunnan-kansa.json
      corpora/fulltext-test/fi/satakunnan-kansa-?/
    - venv/bin/annif eval yso-fi -j 10 -m F1@5 -m NDCG --metrics-file reports/fi-vapaakappaleet-orig.json
      corpora/fulltext-test/fi/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/fi
      hash: md5
      md5: 9340f82e18940abac4eff8e4c4a9acfd.dir
      size: 385777175
      nfiles: 7267
    - path: data/projects/yso-fi
      hash: md5
      md5: 0e4432583c3cd7433b357039c8727ff5.dir
      size: 1262359045
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: c4a4a68e7c53a588f9a34b65406b3207
      size: 48
    params:
      projects.toml:
        yso-fi:
          name: YSO suomi (2024.2.Ikhwan-al-Safa)
          language: fi
          backend: nn_ensemble
          sources: yso-mllm-fi:0.1492,yso-fasttext-fi:0.6090,yso-bonsai-fi:0.2418
          limit: '100'
          vocab: yso
          nodes: '100'
          dropout_rate: '0.2'
          epochs: '10'
    outs:
    - path: reports/fi-jyu-theses.json
      hash: md5
      md5: e960394d4d75a994661be2652085601c
      size: 92
    - path: reports/fi-kirjaesittelyt2021.json
      hash: md5
      md5: 718f1115da30de3342c8d7ba3769d757
      size: 94
    - path: reports/fi-kirjastonhoitaja.json
      hash: md5
      md5: fc920185195f4b95e335bebfb85aaf6b
      size: 93
    - path: reports/fi-satakunnan-kansa.json
      hash: md5
      md5: 4c6bff8566be1b57b8cfb6b2d9395223
      size: 94
    - path: reports/fi-vapaakappaleet-orig.json
      hash: md5
      md5: 6b481bb9a4d66255fd03022017d88c07
      size: 92
