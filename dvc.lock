schema: '2.0'
stages:
  install:
    cmd:
    - python3 -m venv venv
    - source venv/bin/activate && pip install -U pip wheel setuptools && pip 
      install -r requirements.txt
    - cp requirements.txt venv-installed
    deps:
    - path: requirements.txt
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    outs:
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
  load-vocab:
    cmd: venv/bin/annif load-vocab --force yso corpora/yso-skos.ttl
    deps:
    - path: corpora/yso-skos.ttl
      hash: md5
      md5: eccff60b79eee6e8f313bf62da6b1133
      size: 36708611
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    outs:
    - path: data/vocabs/yso
      hash: md5
      md5: 7f747b188827cd7cc633a5db5990ca05.dir
      size: 66116227
      nfiles: 3
  train-mllm@fi:
    cmd: venv/bin/annif train yso-mllm-fi corpora/fulltext-train/fi/*/ -j 16
    deps:
    - path: corpora/fulltext-train/fi
      hash: md5
      md5: e31b0ebf2081aa4fcaf3247664490aa4.dir
      size: 413860462
      nfiles: 5583
    - path: data/vocabs/yso
      hash: md5
      md5: 7f747b188827cd7cc633a5db5990ca05.dir
      size: 66116227
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    params:
      projects.toml:
        yso-mllm-fi:
          name: YSO MLLM Finnish
          language: fi
          backend: mllm
          analyzer: voikko(fi)
          vocab: yso
          limit: '1000'
          transform: limit(3000000)
          access: hidden
    outs:
    - path: data/projects/yso-mllm-fi
      hash: md5
      md5: 7eca23a2ab4125b4178ee7fc54e7b885.dir
      size: 35173940
      nfiles: 2
  train-mllm@en:
    cmd: venv/bin/annif train yso-mllm-en corpora/fulltext-train/en/*/ -j 16
    deps:
    - path: corpora/fulltext-train/en
      hash: md5
      md5: 6a1b90abfb3a50a1862adbd805f61b2a.dir
      size: 268351889
      nfiles: 4584
    - path: data/vocabs/yso
      hash: md5
      md5: 7f747b188827cd7cc633a5db5990ca05.dir
      size: 66116227
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    params:
      projects.toml:
        yso-mllm-en:
          name: YSO MLLM English
          language: en
          backend: mllm
          analyzer: snowball(english)
          vocab: yso
          limit: '1000'
          transform: limit(2500000)
          access: hidden
    outs:
    - path: data/projects/yso-mllm-en
      hash: md5
      md5: 741ccbbb9f5f735ce2adfc3636abf509.dir
      size: 40141377
      nfiles: 2
  train-mllm@sv:
    cmd: venv/bin/annif train yso-mllm-sv corpora/fulltext-train/sv/*/ -j 16
    deps:
    - path: corpora/fulltext-train/sv
      hash: md5
      md5: 6c2b7ebf3a6959976b5e326e1d113350.dir
      size: 155099416
      nfiles: 3754
    - path: data/vocabs/yso
      hash: md5
      md5: 7f747b188827cd7cc633a5db5990ca05.dir
      size: 66116227
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    params:
      projects.toml:
        yso-mllm-sv:
          name: YSO MLLM Swedish
          language: sv
          backend: mllm
          analyzer: snowball(swedish)
          vocab: yso
          limit: '1000'
          transform: limit(3000000)
          access: hidden
    outs:
    - path: data/projects/yso-mllm-sv
      hash: md5
      md5: 4dd42073d3c6cea1f01e7170a0ff2709.dir
      size: 18600554
      nfiles: 2
  train-omikuji@sv:
    cmd: venv/bin/annif train yso-bonsai-sv 
      corpora/shorttext-train/sv/yso-finna-sv*.tsv.gz
    deps:
    - path: corpora/shorttext-train/sv/
      hash: md5
      md5: bba27f3c404ebfadc4d711ebe7dda2ba.dir
      size: 44262678
      nfiles: 3
    - path: data/vocabs/yso
      hash: md5
      md5: 7f747b188827cd7cc633a5db5990ca05.dir
      size: 66116227
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    params:
      projects.toml:
        yso-bonsai-sv:
          name: YSO Omikuji Bonsai Swedish
          language: sv
          backend: omikuji
          analyzer: snowball(swedish)
          vocab: yso
          cluster_balanced: 'False'
          cluster_k: '100'
          max_depth: '3'
          min_df: '2'
          ngram: '2'
          limit: '1000'
          transform: limit(5000)
          access: hidden
    outs:
    - path: data/projects/yso-bonsai-sv
      hash: md5
      md5: cd35b1aa2d36e15f67cff636c3757b68.dir
      size: 1067122451
      nfiles: 6
  train-omikuji@en:
    cmd: venv/bin/annif train yso-bonsai-en 
      corpora/shorttext-train/en/yso-finna-en*.tsv.gz
    deps:
    - path: corpora/shorttext-train/en/
      hash: md5
      md5: c3afca87bfab0ab207f81e45cd0628a1.dir
      size: 105390154
      nfiles: 5
    - path: data/vocabs/yso
      hash: md5
      md5: 7f747b188827cd7cc633a5db5990ca05.dir
      size: 66116227
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    params:
      projects.toml:
        yso-bonsai-en:
          name: YSO Omikuji Bonsai English
          language: en
          backend: omikuji
          analyzer: simple
          vocab: yso
          cluster_balanced: 'False'
          cluster_k: '100'
          max_depth: '3'
          min_df: '5'
          ngram: '2'
          limit: '1000'
          transform: limit(5000)
          access: hidden
    outs:
    - path: data/projects/yso-bonsai-en
      hash: md5
      md5: 9ef829b0471e532897b3f0eea6d87919.dir
      size: 2436423844
      nfiles: 6
  train-omikuji@fi:
    cmd: venv/bin/annif train yso-bonsai-fi 
      corpora/shorttext-train/fi/yso-finna-fi*.tsv.gz
    deps:
    - path: corpora/shorttext-train/fi/
      hash: md5
      md5: a1075f54a45ea8629ace33afa9d01c23.dir
      size: 372254119
      nfiles: 9
    - path: data/vocabs/yso
      hash: md5
      md5: 7f747b188827cd7cc633a5db5990ca05.dir
      size: 66116227
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    params:
      projects.toml:
        yso-bonsai-fi:
          name: YSO Omikuji Bonsai Finnish
          language: fi
          backend: omikuji
          analyzer: snowball(finnish)
          vocab: yso
          cluster_balanced: 'False'
          cluster_k: '100'
          max_depth: '3'
          min_df: '5'
          ngram: '2'
          limit: '1000'
          transform: limit(5000)
          access: hidden
    outs:
    - path: data/projects/yso-bonsai-fi
      hash: md5
      md5: bd8b8eb2cdc531620bccabed7c25511d.dir
      size: 5400396547
      nfiles: 6
  train-fasttext@sv:
    cmd: venv/bin/annif train yso-fasttext-sv 
      corpora/shorttext-train/sv/yso-finna-sv*.tsv.gz
    deps:
    - path: corpora/shorttext-train/sv/
      hash: md5
      md5: bba27f3c404ebfadc4d711ebe7dda2ba.dir
      size: 44262678
      nfiles: 3
    - path: data/vocabs/yso
      hash: md5
      md5: 7f747b188827cd7cc633a5db5990ca05.dir
      size: 66116227
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    params:
      projects.toml:
        yso-fasttext-sv:
          name: YSO fastText Swedish
          language: sv
          backend: fasttext
          analyzer: snowball(swedish)
          dim: '560'
          lr: '0.974349'
          epoch: '110'
          minn: '2'
          maxn: '6'
          minCount: '2'
          wordNgrams: '2'
          loss: hs
          limit: '1000'
          chunksize: '24'
          vocab: yso
          transform: limit(15000),filter_lang,limit(5000)
          access: hidden
    outs:
    - path: data/projects/yso-fasttext-sv
      hash: md5
      md5: ed590d51862a2b74032ad3306fce8535.dir
      size: 4933565172
      nfiles: 2
  train-fasttext@fi:
    cmd: venv/bin/annif train yso-fasttext-fi 
      corpora/shorttext-train/fi/yso-finna-fi*.tsv.gz
    deps:
    - path: corpora/shorttext-train/fi/
      hash: md5
      md5: a1075f54a45ea8629ace33afa9d01c23.dir
      size: 372254119
      nfiles: 9
    - path: data/vocabs/yso
      hash: md5
      md5: 7f747b188827cd7cc633a5db5990ca05.dir
      size: 66116227
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    params:
      projects.toml:
        yso-fasttext-fi:
          name: YSO fastText Finnish
          language: fi
          backend: fasttext
          analyzer: voikko(fi)
          dim: '660'
          lr: '0.506539'
          epoch: '75'
          minn: '2'
          maxn: '7'
          minCount: '2'
          wordNgrams: '2'
          loss: hs
          limit: '1000'
          chunksize: '24'
          vocab: yso
          transform: limit(15000),filter_lang,limit(5000)
          access: hidden
    outs:
    - path: data/projects/yso-fasttext-fi
      hash: md5
      md5: 5119f1c45b54123d2151cd5b8910b4c3.dir
      size: 7625893827
      nfiles: 2
  train-fasttext@en:
    cmd: venv/bin/annif train yso-fasttext-en 
      corpora/shorttext-train/en/yso-finna-en*.tsv.gz
    deps:
    - path: corpora/shorttext-train/en/
      hash: md5
      md5: c3afca87bfab0ab207f81e45cd0628a1.dir
      size: 105390154
      nfiles: 5
    - path: data/vocabs/yso
      hash: md5
      md5: 7f747b188827cd7cc633a5db5990ca05.dir
      size: 66116227
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    params:
      projects.toml:
        yso-fasttext-en:
          name: YSO fastText English
          language: en
          backend: fasttext
          analyzer: snowball(english)
          dim: '430'
          lr: '0.506539'
          epoch: '115'
          minn: '4'
          maxn: '5'
          minCount: '1'
          wordNgrams: '2'
          loss: hs
          limit: '1000'
          chunksize: '24'
          vocab: yso
          transform: limit(15000),filter_lang,limit(5000)
          access: hidden
    outs:
    - path: data/projects/yso-fasttext-en
      hash: md5
      md5: dad16c5d35b08afad943e20f0bad7285.dir
      size: 4117021297
      nfiles: 2
  train-nn-ensemble@sv:
    cmd: venv/bin/annif train yso-sv corpora/fulltext-train/sv/*/ -j 16
    deps:
    - path: corpora/fulltext-train/sv
      hash: md5
      md5: 6c2b7ebf3a6959976b5e326e1d113350.dir
      size: 155099416
      nfiles: 3754
    - path: data/projects/yso-bonsai-sv
      hash: md5
      md5: cd35b1aa2d36e15f67cff636c3757b68.dir
      size: 1067122451
      nfiles: 6
    - path: data/projects/yso-fasttext-sv
      hash: md5
      md5: ed590d51862a2b74032ad3306fce8535.dir
      size: 4933565172
      nfiles: 2
    - path: data/projects/yso-mllm-sv
      hash: md5
      md5: 4dd42073d3c6cea1f01e7170a0ff2709.dir
      size: 18600554
      nfiles: 2
    - path: data/vocabs/yso
      hash: md5
      md5: 7f747b188827cd7cc633a5db5990ca05.dir
      size: 66116227
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    params:
      projects.toml:
        yso-sv:
          name: ALLFO svenska (2025.7.Laotse)
          language: sv
          backend: nn_ensemble
          sources: 
            yso-mllm-sv:0.1439,yso-fasttext-sv:0.3302,yso-bonsai-sv:0.5259
          limit: '100'
          vocab: yso
          nodes: '100'
          dropout_rate: '0.2'
          epochs: '10'
    outs:
    - path: data/projects/yso-sv
      hash: md5
      md5: 7274f12afbdb18663410e8149cb14b09.dir
      size: 1263210783
      nfiles: 3
  train-nn-ensemble@en:
    cmd: venv/bin/annif train yso-en corpora/fulltext-train/en/*/ -j 16
    deps:
    - path: corpora/fulltext-train/en
      hash: md5
      md5: 6a1b90abfb3a50a1862adbd805f61b2a.dir
      size: 268351889
      nfiles: 4584
    - path: data/projects/yso-bonsai-en
      hash: md5
      md5: 9ef829b0471e532897b3f0eea6d87919.dir
      size: 2436423844
      nfiles: 6
    - path: data/projects/yso-fasttext-en
      hash: md5
      md5: dad16c5d35b08afad943e20f0bad7285.dir
      size: 4117021297
      nfiles: 2
    - path: data/projects/yso-mllm-en
      hash: md5
      md5: 741ccbbb9f5f735ce2adfc3636abf509.dir
      size: 40141377
      nfiles: 2
    - path: data/vocabs/yso
      hash: md5
      md5: 7f747b188827cd7cc633a5db5990ca05.dir
      size: 66116227
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    params:
      projects.toml:
        yso-en:
          name: YSO English (2025.7.Laotse)
          language: en
          backend: nn_ensemble
          sources: 
            yso-mllm-en:0.3426,yso-fasttext-en:0.1419,yso-bonsai-en:0.5155
          limit: '100'
          vocab: yso
          nodes: '100'
          dropout_rate: '0.2'
          epochs: '10'
    outs:
    - path: data/projects/yso-en
      hash: md5
      md5: 03d98a22d3a50d94784585de2af4308b.dir
      size: 1263210783
      nfiles: 3
  train-nn-ensemble@fi:
    cmd: venv/bin/annif train yso-fi corpora/fulltext-train/fi/*/ -j 16
    deps:
    - path: corpora/fulltext-train/fi
      hash: md5
      md5: e31b0ebf2081aa4fcaf3247664490aa4.dir
      size: 413860462
      nfiles: 5583
    - path: data/projects/yso-bonsai-fi
      hash: md5
      md5: bd8b8eb2cdc531620bccabed7c25511d.dir
      size: 5400396547
      nfiles: 6
    - path: data/projects/yso-fasttext-fi
      hash: md5
      md5: 5119f1c45b54123d2151cd5b8910b4c3.dir
      size: 7625893827
      nfiles: 2
    - path: data/projects/yso-mllm-fi
      hash: md5
      md5: 7eca23a2ab4125b4178ee7fc54e7b885.dir
      size: 35173940
      nfiles: 2
    - path: data/vocabs/yso
      hash: md5
      md5: 7f747b188827cd7cc633a5db5990ca05.dir
      size: 66116227
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    params:
      projects.toml:
        yso-fi:
          name: YSO suomi (2025.7.Laotse)
          language: fi
          backend: nn_ensemble
          sources: 
            yso-mllm-fi:0.1492,yso-fasttext-fi:0.6090,yso-bonsai-fi:0.2418
          limit: '100'
          vocab: yso
          nodes: '100'
          dropout_rate: '0.2'
          epochs: '10'
    outs:
    - path: data/projects/yso-fi
      hash: md5
      md5: cf46331c49b09ae1c56f8b858e0407da.dir
      size: 1263210783
      nfiles: 3
  eval-fi@mllm:
    cmd:
    - venv/bin/annif eval yso-mllm-fi -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-fi-jyu-theses.json corpora/fulltext-test/fi/jyu-theses/
    - venv/bin/annif eval yso-mllm-fi -j 6 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-fi-kirjaesittelyt2021.json 
      corpora/fulltext-test/fi/kirjaesittelyt2021/
    - venv/bin/annif eval yso-mllm-fi -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-fi-kirjastonhoitaja.json 
      corpora/fulltext-test/fi/kirjastonhoitaja/
    - venv/bin/annif eval yso-mllm-fi -j 4 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-fi-satakunnan-kansa.json 
      corpora/fulltext-test/fi/satakunnan-kansa-?/
    - venv/bin/annif eval yso-mllm-fi -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-fi-vapaakappaleet-orig.json 
      corpora/fulltext-test/fi/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/fi
      md5: 169cae26a0b93733aed807f8e9d9ca40.dir
      size: 385626157
      nfiles: 7267
    - path: data/projects/yso-mllm-fi
      md5: c42dd794bb146ecf7cf60e5f49167ab2.dir
      size: 36078206
      nfiles: 2
    - path: venv-installed
      md5: abf841d22e1cdf25eb9e9ef2368c240d
      size: 49
    outs:
    - path: reports/mllm-fi-jyu-theses.json
      md5: 017241308807e76f5c4ecc675c280bfa
      size: 92
    - path: reports/mllm-fi-kirjaesittelyt2021.json
      md5: b289df9d0158a0e8c6cd74dd2df7d9c2
      size: 94
    - path: reports/mllm-fi-kirjastonhoitaja.json
      md5: 1ed10e3905a72ffe5181bc74ec27599d
      size: 93
    - path: reports/mllm-fi-satakunnan-kansa.json
      md5: 7100b02bb18dad3f8e8d073b7bff9e50
      size: 93
    - path: reports/mllm-fi-vapaakappaleet-orig.json
      md5: bb3ed842b8468708c1c064452b6b24f1
      size: 93
  eval-fi@bonsai:
    cmd:
    - venv/bin/annif eval yso-bonsai-fi -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-fi-jyu-theses.json corpora/fulltext-test/fi/jyu-theses/
    - venv/bin/annif eval yso-bonsai-fi -j 6 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-fi-kirjaesittelyt2021.json 
      corpora/fulltext-test/fi/kirjaesittelyt2021/
    - venv/bin/annif eval yso-bonsai-fi -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-fi-kirjastonhoitaja.json 
      corpora/fulltext-test/fi/kirjastonhoitaja/
    - venv/bin/annif eval yso-bonsai-fi -j 4 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-fi-satakunnan-kansa.json 
      corpora/fulltext-test/fi/satakunnan-kansa-?/
    - venv/bin/annif eval yso-bonsai-fi -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-fi-vapaakappaleet-orig.json 
      corpora/fulltext-test/fi/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/fi
      md5: 169cae26a0b93733aed807f8e9d9ca40.dir
      size: 385626157
      nfiles: 7267
    - path: data/projects/yso-bonsai-fi
      md5: e065094c56ff3a61e2a4648e47156c8f.dir
      size: 5277448954
      nfiles: 6
    - path: venv-installed
      md5: abf841d22e1cdf25eb9e9ef2368c240d
      size: 49
    outs:
    - path: reports/bonsai-fi-jyu-theses.json
      md5: 660095be4380591aa8c7f839ffbf1aa4
      size: 92
    - path: reports/bonsai-fi-kirjaesittelyt2021.json
      md5: 61540b3360540911b4ec3a934abb74ca
      size: 94
    - path: reports/bonsai-fi-kirjastonhoitaja.json
      md5: 95696330bd44571520752bdb4a460287
      size: 93
    - path: reports/bonsai-fi-satakunnan-kansa.json
      md5: 2bb5923811b0760695cb5ad2465469e5
      size: 93
    - path: reports/bonsai-fi-vapaakappaleet-orig.json
      md5: d369966bf45650f6b9643469343ab65d
      size: 93
  eval-fi@fasttext:
    cmd:
    - venv/bin/annif eval yso-fasttext-fi -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-fi-jyu-theses.json corpora/fulltext-test/fi/jyu-theses/
    - venv/bin/annif eval yso-fasttext-fi -j 6 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-fi-kirjaesittelyt2021.json 
      corpora/fulltext-test/fi/kirjaesittelyt2021/
    - venv/bin/annif eval yso-fasttext-fi -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-fi-kirjastonhoitaja.json 
      corpora/fulltext-test/fi/kirjastonhoitaja/
    - venv/bin/annif eval yso-fasttext-fi -j 4 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-fi-satakunnan-kansa.json 
      corpora/fulltext-test/fi/satakunnan-kansa-?/
    - venv/bin/annif eval yso-fasttext-fi -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-fi-vapaakappaleet-orig.json 
      corpora/fulltext-test/fi/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/fi
      md5: 169cae26a0b93733aed807f8e9d9ca40.dir
      size: 385626157
      nfiles: 7267
    - path: data/projects/yso-fasttext-fi
      md5: 0f5c9eb966671d610e8d8556b270652c.dir
      size: 7519964475
      nfiles: 2
    - path: venv-installed
      md5: abf841d22e1cdf25eb9e9ef2368c240d
      size: 49
    outs:
    - path: reports/fasttext-fi-jyu-theses.json
      md5: 339a05b2faa098074a7717ef6677048b
      size: 93
    - path: reports/fasttext-fi-kirjaesittelyt2021.json
      md5: b0425400c2513d8580bf726bc0b487d3
      size: 94
    - path: reports/fasttext-fi-kirjastonhoitaja.json
      md5: 7fe1e06726e05effef46a1cb97078d72
      size: 92
    - path: reports/fasttext-fi-satakunnan-kansa.json
      md5: 63b1b03ad124c17bc3570188f1855ec9
      size: 93
    - path: reports/fasttext-fi-vapaakappaleet-orig.json
      md5: 0acd6e385633742bd18513109a5a87dc
      size: 94
  eval-sv@mllm:
    cmd:
    - venv/bin/annif eval yso-mllm-sv -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-sv-abo-theses.json corpora/fulltext-test/sv/abo-theses/
    - venv/bin/annif eval yso-mllm-sv -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-sv-jyu-theses.json corpora/fulltext-test/sv/jyu-theses/
    - venv/bin/annif eval yso-mllm-sv -j 6 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-sv-kirjaesittelyt2021.json 
      corpora/fulltext-test/sv/kirjaesittelyt2021/
    - venv/bin/annif eval yso-mllm-sv -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-sv-vapaakappaleet-orig.json 
      corpora/fulltext-test/sv/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/sv
      md5: 2d29064639aa0f8900e4bf58a781826e.dir
      size: 66510456
      nfiles: 1876
    - path: data/projects/yso-mllm-sv
      md5: fc2e344bac4abd0048c7c286ffdba0eb.dir
      size: 19904278
      nfiles: 2
    - path: venv-installed
      md5: abf841d22e1cdf25eb9e9ef2368c240d
      size: 49
    outs:
    - path: reports/mllm-sv-abo-theses.json
      md5: 0d6f871b92dfb263c56e17f644e99513
      size: 92
    - path: reports/mllm-sv-jyu-theses.json
      md5: 81f8eb0a6908169aeb2ba236a0baf3f7
      size: 91
    - path: reports/mllm-sv-kirjaesittelyt2021.json
      md5: 0886460a79805dd7698d6c7f60f2ab2d
      size: 93
    - path: reports/mllm-sv-vapaakappaleet-orig.json
      md5: d55b237633198997361b7aab0ba7d10b
      size: 92
  eval-sv@bonsai:
    cmd:
    - venv/bin/annif eval yso-bonsai-sv -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-sv-abo-theses.json corpora/fulltext-test/sv/abo-theses/
    - venv/bin/annif eval yso-bonsai-sv -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-sv-jyu-theses.json corpora/fulltext-test/sv/jyu-theses/
    - venv/bin/annif eval yso-bonsai-sv -j 6 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-sv-kirjaesittelyt2021.json 
      corpora/fulltext-test/sv/kirjaesittelyt2021/
    - venv/bin/annif eval yso-bonsai-sv -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-sv-vapaakappaleet-orig.json 
      corpora/fulltext-test/sv/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/sv
      md5: 2d29064639aa0f8900e4bf58a781826e.dir
      size: 66510456
      nfiles: 1876
    - path: data/projects/yso-bonsai-sv
      md5: 325628ed10b5330b42fdf93489ab870d.dir
      size: 1035735788
      nfiles: 6
    - path: venv-installed
      md5: abf841d22e1cdf25eb9e9ef2368c240d
      size: 49
    outs:
    - path: reports/bonsai-sv-abo-theses.json
      md5: 65fd5a684e967d01b8527489b6ca38c3
      size: 93
    - path: reports/bonsai-sv-jyu-theses.json
      md5: 69084213079115f7f97cf16115d58010
      size: 91
    - path: reports/bonsai-sv-kirjaesittelyt2021.json
      md5: 1c2fe10783ce03e22dede97beb120c65
      size: 93
    - path: reports/bonsai-sv-vapaakappaleet-orig.json
      md5: f6e85d73d66e9f6cfc0cfa359ba6de73
      size: 92
  eval-sv@fasttext:
    cmd:
    - venv/bin/annif eval yso-fasttext-sv -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-sv-abo-theses.json corpora/fulltext-test/sv/abo-theses/
    - venv/bin/annif eval yso-fasttext-sv -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-sv-jyu-theses.json corpora/fulltext-test/sv/jyu-theses/
    - venv/bin/annif eval yso-fasttext-sv -j 6 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-sv-kirjaesittelyt2021.json 
      corpora/fulltext-test/sv/kirjaesittelyt2021/
    - venv/bin/annif eval yso-fasttext-sv -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-sv-vapaakappaleet-orig.json 
      corpora/fulltext-test/sv/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/sv
      md5: 2d29064639aa0f8900e4bf58a781826e.dir
      size: 66510456
      nfiles: 1876
    - path: data/projects/yso-fasttext-sv
      md5: 8d272558b0ec13606c0027af74be47e8.dir
      size: 4915577395
      nfiles: 2
    - path: venv-installed
      md5: abf841d22e1cdf25eb9e9ef2368c240d
      size: 49
    outs:
    - path: reports/fasttext-sv-abo-theses.json
      md5: ea4e5c8d3c72e853ce0bda1757cd4e41
      size: 93
    - path: reports/fasttext-sv-jyu-theses.json
      md5: 8e73efa922698dd1fa968f6dba4c779c
      size: 92
    - path: reports/fasttext-sv-kirjaesittelyt2021.json
      md5: 42fa4ff3fa951ecf07ce404a1c68d990
      size: 93
    - path: reports/fasttext-sv-vapaakappaleet-orig.json
      md5: c8c0290553be948bbd127572efc0fa95
      size: 93
  eval-en@fasttext:
    cmd:
    - venv/bin/annif eval yso-fasttext-en -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-en-abo-theses.json corpora/fulltext-test/en/abo-theses/
    - venv/bin/annif eval yso-fasttext-en -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-en-jyu-theses.json corpora/fulltext-test/en/jyu-theses/
    - venv/bin/annif eval yso-fasttext-en -j 6 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-en-kirjaesittelyt2021.json 
      corpora/fulltext-test/en/kirjaesittelyt2021/
    - venv/bin/annif eval yso-fasttext-en -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-en-vapaakappaleet-orig.json 
      corpora/fulltext-test/en/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/en
      md5: e6fd23c87a07631f24e52f568fad23ea.dir
      size: 331772939
      nfiles: 3825
    - path: data/projects/yso-fasttext-en
      md5: 625be5253a0eee61c44741e63acb1021.dir
      size: 4077282108
      nfiles: 2
    - path: venv-installed
      md5: abf841d22e1cdf25eb9e9ef2368c240d
      size: 49
    outs:
    - path: reports/fasttext-en-abo-theses.json
      md5: 66940ff0ea42d44ab1b429905c51858a
      size: 93
    - path: reports/fasttext-en-jyu-theses.json
      md5: 8bdfe2503c1a002d31121f48daf493db
      size: 92
    - path: reports/fasttext-en-kirjaesittelyt2021.json
      md5: 1d8d4ce09c768c644d34382497b5bb15
      size: 92
    - path: reports/fasttext-en-vapaakappaleet-orig.json
      md5: a8060ee8a76b5b3e7a5134d0edfdc5d9
      size: 92
  eval-en@mllm:
    cmd:
    - venv/bin/annif eval yso-mllm-en -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-en-abo-theses.json corpora/fulltext-test/en/abo-theses/
    - venv/bin/annif eval yso-mllm-en -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-en-jyu-theses.json corpora/fulltext-test/en/jyu-theses/
    - venv/bin/annif eval yso-mllm-en -j 6 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-en-kirjaesittelyt2021.json 
      corpora/fulltext-test/en/kirjaesittelyt2021/
    - venv/bin/annif eval yso-mllm-en -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-en-vapaakappaleet-orig.json 
      corpora/fulltext-test/en/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/en
      md5: e6fd23c87a07631f24e52f568fad23ea.dir
      size: 331772939
      nfiles: 3825
    - path: data/projects/yso-mllm-en
      md5: 03fe928341b019387a004ce33b85b220.dir
      size: 38643312
      nfiles: 2
    - path: venv-installed
      md5: abf841d22e1cdf25eb9e9ef2368c240d
      size: 49
    outs:
    - path: reports/mllm-en-abo-theses.json
      md5: 0cc714a7ee3c0a5d42f941da5719dd8c
      size: 92
    - path: reports/mllm-en-jyu-theses.json
      md5: c8bdc5f4f57799201b97ed62191c608c
      size: 92
    - path: reports/mllm-en-kirjaesittelyt2021.json
      md5: 121d0ac40869b4dd7b0a1fc6094e2c42
      size: 94
    - path: reports/mllm-en-vapaakappaleet-orig.json
      md5: e763f75300be26b3699d40a4cc119526
      size: 94
  eval-en@bonsai:
    cmd:
    - venv/bin/annif eval yso-bonsai-en -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-en-abo-theses.json corpora/fulltext-test/en/abo-theses/
    - venv/bin/annif eval yso-bonsai-en -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-en-jyu-theses.json corpora/fulltext-test/en/jyu-theses/
    - venv/bin/annif eval yso-bonsai-en -j 6 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-en-kirjaesittelyt2021.json 
      corpora/fulltext-test/en/kirjaesittelyt2021/
    - venv/bin/annif eval yso-bonsai-en -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-en-vapaakappaleet-orig.json 
      corpora/fulltext-test/en/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/en
      md5: e6fd23c87a07631f24e52f568fad23ea.dir
      size: 331772939
      nfiles: 3825
    - path: data/projects/yso-bonsai-en
      md5: 7b3c8486bbce25710e969ce706e9ac71.dir
      size: 2246619174
      nfiles: 6
    - path: venv-installed
      md5: abf841d22e1cdf25eb9e9ef2368c240d
      size: 49
    outs:
    - path: reports/bonsai-en-abo-theses.json
      md5: 109beeb488b023241e61fb4fddba1d35
      size: 93
    - path: reports/bonsai-en-jyu-theses.json
      md5: f917141ae8af29e6834359c35998e98d
      size: 92
    - path: reports/bonsai-en-kirjaesittelyt2021.json
      md5: 711601791fe7245a961e0bd5fdb6dccd
      size: 92
    - path: reports/bonsai-en-vapaakappaleet-orig.json
      md5: 2324260b996366b775fbf3c38a14a309
      size: 93
  eval-sv@fasttext-sv:
    cmd:
    - venv/bin/annif eval yso-fasttext-sv -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-sv-abo-theses.json corpora/fulltext-test/sv/abo-theses/
    - venv/bin/annif eval yso-fasttext-sv -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-sv-jyu-theses.json corpora/fulltext-test/sv/jyu-theses/
    - venv/bin/annif eval yso-fasttext-sv -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-sv-kirjaesittelyt2021.json 
      corpora/fulltext-test/sv/kirjaesittelyt2021/
    - venv/bin/annif eval yso-fasttext-sv -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-sv-vapaakappaleet-orig.json 
      corpora/fulltext-test/sv/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/sv
      hash: md5
      md5: dec6a4a7146cc85c670b1a7f7cad4d3c.dir
      size: 66738096
      nfiles: 1878
    - path: data/projects/yso-fasttext-sv
      hash: md5
      md5: ed590d51862a2b74032ad3306fce8535.dir
      size: 4933565172
      nfiles: 2
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    params:
      projects.toml:
        yso-fasttext-sv:
          name: YSO fastText Swedish
          language: sv
          backend: fasttext
          analyzer: snowball(swedish)
          dim: '560'
          lr: '0.974349'
          epoch: '110'
          minn: '2'
          maxn: '6'
          minCount: '2'
          wordNgrams: '2'
          loss: hs
          limit: '1000'
          chunksize: '24'
          vocab: yso
          transform: limit(15000),filter_lang,limit(5000)
          access: hidden
    outs:
    - path: reports/fasttext-sv-abo-theses.json
      hash: md5
      md5: f1dfa40d46cb094fe9ac1118e482aed5
      size: 94
    - path: reports/fasttext-sv-jyu-theses.json
      hash: md5
      md5: 865e8c3d4168426fa323eae26c4bf315
      size: 93
    - path: reports/fasttext-sv-kirjaesittelyt2021.json
      hash: md5
      md5: 3df90e4173529f53b993fb10d89d5757
      size: 93
    - path: reports/fasttext-sv-vapaakappaleet-orig.json
      hash: md5
      md5: d33afc1192ce2fc13a9e3fac83bb7dfb
      size: 93
  eval-sv@sv:
    cmd:
    - venv/bin/annif eval yso-sv -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/sv-abo-theses.json corpora/fulltext-test/sv/abo-theses/
    - venv/bin/annif eval yso-sv -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/sv-jyu-theses.json corpora/fulltext-test/sv/jyu-theses/
    - venv/bin/annif eval yso-sv -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/sv-kirjaesittelyt2021.json 
      corpora/fulltext-test/sv/kirjaesittelyt2021/
    - venv/bin/annif eval yso-sv -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/sv-vapaakappaleet-orig.json 
      corpora/fulltext-test/sv/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/sv
      hash: md5
      md5: dec6a4a7146cc85c670b1a7f7cad4d3c.dir
      size: 66738096
      nfiles: 1878
    - path: data/projects/yso-sv
      hash: md5
      md5: 7274f12afbdb18663410e8149cb14b09.dir
      size: 1263210783
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    params:
      projects.toml:
        yso-sv:
          name: ALLFO svenska (2025.7.Laotse)
          language: sv
          backend: nn_ensemble
          sources: 
            yso-mllm-sv:0.1439,yso-fasttext-sv:0.3302,yso-bonsai-sv:0.5259
          limit: '100'
          vocab: yso
          nodes: '100'
          dropout_rate: '0.2'
          epochs: '10'
    outs:
    - path: reports/sv-abo-theses.json
      hash: md5
      md5: 59a7c603c2cb5c47649699cf3d3eb68b
      size: 93
    - path: reports/sv-jyu-theses.json
      hash: md5
      md5: ca039faa64db8509b01ec76176f2e0ba
      size: 91
    - path: reports/sv-kirjaesittelyt2021.json
      hash: md5
      md5: 3f72e89259a16864248a2b5a48ea1523
      size: 92
    - path: reports/sv-vapaakappaleet-orig.json
      hash: md5
      md5: a7607d16afa6ef9a9ff2863c2fa61c69
      size: 91
  eval-en@bonsai-en:
    cmd:
    - venv/bin/annif eval yso-bonsai-en -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-en-abo-theses.json corpora/fulltext-test/en/abo-theses/
    - venv/bin/annif eval yso-bonsai-en -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-en-jyu-theses.json corpora/fulltext-test/en/jyu-theses/
    - venv/bin/annif eval yso-bonsai-en -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-en-kirjaesittelyt2021.json 
      corpora/fulltext-test/en/kirjaesittelyt2021/
    - venv/bin/annif eval yso-bonsai-en -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-en-vapaakappaleet-orig.json 
      corpora/fulltext-test/en/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/en
      hash: md5
      md5: aa34212ea9e8d4ca966a93687d292131.dir
      size: 332654338
      nfiles: 3831
    - path: data/projects/yso-bonsai-en
      hash: md5
      md5: 9ef829b0471e532897b3f0eea6d87919.dir
      size: 2436423844
      nfiles: 6
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    params:
      projects.toml:
        yso-bonsai-en:
          name: YSO Omikuji Bonsai English
          language: en
          backend: omikuji
          analyzer: simple
          vocab: yso
          cluster_balanced: 'False'
          cluster_k: '100'
          max_depth: '3'
          min_df: '5'
          ngram: '2'
          limit: '1000'
          transform: limit(5000)
          access: hidden
    outs:
    - path: reports/bonsai-en-abo-theses.json
      hash: md5
      md5: aaf2f50a92f28996951991241edf54b7
      size: 93
    - path: reports/bonsai-en-jyu-theses.json
      hash: md5
      md5: 6fdd5a475a88ce5589621e92a6fd48a9
      size: 92
    - path: reports/bonsai-en-kirjaesittelyt2021.json
      hash: md5
      md5: b2a8d5baa8ef3fc7d17f23cdac2c93cf
      size: 93
    - path: reports/bonsai-en-vapaakappaleet-orig.json
      hash: md5
      md5: 0f0142def5f44dd240344bdcb9d50ecf
      size: 94
  eval-en@en:
    cmd:
    - venv/bin/annif eval yso-en -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/en-abo-theses.json corpora/fulltext-test/en/abo-theses/
    - venv/bin/annif eval yso-en -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/en-jyu-theses.json corpora/fulltext-test/en/jyu-theses/
    - venv/bin/annif eval yso-en -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/en-kirjaesittelyt2021.json 
      corpora/fulltext-test/en/kirjaesittelyt2021/
    - venv/bin/annif eval yso-en -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/en-vapaakappaleet-orig.json 
      corpora/fulltext-test/en/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/en
      hash: md5
      md5: aa34212ea9e8d4ca966a93687d292131.dir
      size: 332654338
      nfiles: 3831
    - path: data/projects/yso-en
      hash: md5
      md5: 03d98a22d3a50d94784585de2af4308b.dir
      size: 1263210783
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    params:
      projects.toml:
        yso-en:
          name: YSO English (2025.7.Laotse)
          language: en
          backend: nn_ensemble
          sources: 
            yso-mllm-en:0.3426,yso-fasttext-en:0.1419,yso-bonsai-en:0.5155
          limit: '100'
          vocab: yso
          nodes: '100'
          dropout_rate: '0.2'
          epochs: '10'
    outs:
    - path: reports/en-abo-theses.json
      hash: md5
      md5: 993716ebd48bc88c2f9d278ebae7da45
      size: 92
    - path: reports/en-jyu-theses.json
      hash: md5
      md5: 536539bff4918ca87822273d645e219e
      size: 92
    - path: reports/en-kirjaesittelyt2021.json
      hash: md5
      md5: 8bf055df1946f3f39797927404e58f24
      size: 93
    - path: reports/en-vapaakappaleet-orig.json
      hash: md5
      md5: 1db7aab7150e26509d5946eca6229950
      size: 93
  eval-en@fasttext-en:
    cmd:
    - venv/bin/annif eval yso-fasttext-en -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-en-abo-theses.json corpora/fulltext-test/en/abo-theses/
    - venv/bin/annif eval yso-fasttext-en -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-en-jyu-theses.json corpora/fulltext-test/en/jyu-theses/
    - venv/bin/annif eval yso-fasttext-en -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-en-kirjaesittelyt2021.json 
      corpora/fulltext-test/en/kirjaesittelyt2021/
    - venv/bin/annif eval yso-fasttext-en -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-en-vapaakappaleet-orig.json 
      corpora/fulltext-test/en/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/en
      hash: md5
      md5: aa34212ea9e8d4ca966a93687d292131.dir
      size: 332654338
      nfiles: 3831
    - path: data/projects/yso-fasttext-en
      hash: md5
      md5: dad16c5d35b08afad943e20f0bad7285.dir
      size: 4117021297
      nfiles: 2
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    params:
      projects.toml:
        yso-fasttext-en:
          name: YSO fastText English
          language: en
          backend: fasttext
          analyzer: snowball(english)
          dim: '430'
          lr: '0.506539'
          epoch: '115'
          minn: '4'
          maxn: '5'
          minCount: '1'
          wordNgrams: '2'
          loss: hs
          limit: '1000'
          chunksize: '24'
          vocab: yso
          transform: limit(15000),filter_lang,limit(5000)
          access: hidden
    outs:
    - path: reports/fasttext-en-abo-theses.json
      hash: md5
      md5: 9450a45cd7a221750024ab37446247c6
      size: 92
    - path: reports/fasttext-en-jyu-theses.json
      hash: md5
      md5: 9fbcfc3457ad55d3303107944498fda1
      size: 92
    - path: reports/fasttext-en-kirjaesittelyt2021.json
      hash: md5
      md5: 4ba512696e500a3764509dd0b8203725
      size: 93
    - path: reports/fasttext-en-vapaakappaleet-orig.json
      hash: md5
      md5: 6bd0e2c0bd733cea1c57be7033146d38
      size: 95
  eval-fi@fasttext-fi:
    cmd:
    - venv/bin/annif eval yso-fasttext-fi -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-fi-jyu-theses.json corpora/fulltext-test/fi/jyu-theses/
    - venv/bin/annif eval yso-fasttext-fi -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-fi-kirjaesittelyt2021.json 
      corpora/fulltext-test/fi/kirjaesittelyt2021/
    - venv/bin/annif eval yso-fasttext-fi -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-fi-kirjastonhoitaja.json 
      corpora/fulltext-test/fi/kirjastonhoitaja/
    - venv/bin/annif eval yso-fasttext-fi -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-fi-satakunnan-kansa.json 
      corpora/fulltext-test/fi/satakunnan-kansa-?/
    - venv/bin/annif eval yso-fasttext-fi -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/fasttext-fi-vapaakappaleet-orig.json 
      corpora/fulltext-test/fi/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/fi
      hash: md5
      md5: 45cd5e224eb7cd03251563c81a50bee1.dir
      size: 385776875
      nfiles: 7267
    - path: data/projects/yso-fasttext-fi
      hash: md5
      md5: 5119f1c45b54123d2151cd5b8910b4c3.dir
      size: 7625893827
      nfiles: 2
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    params:
      projects.toml:
        yso-fasttext-fi:
          name: YSO fastText Finnish
          language: fi
          backend: fasttext
          analyzer: voikko(fi)
          dim: '660'
          lr: '0.506539'
          epoch: '75'
          minn: '2'
          maxn: '7'
          minCount: '2'
          wordNgrams: '2'
          loss: hs
          limit: '1000'
          chunksize: '24'
          vocab: yso
          transform: limit(15000),filter_lang,limit(5000)
          access: hidden
    outs:
    - path: reports/fasttext-fi-jyu-theses.json
      hash: md5
      md5: edcc9c7f6dea99ba5984f041b2675262
      size: 94
    - path: reports/fasttext-fi-kirjaesittelyt2021.json
      hash: md5
      md5: f05bb794242bbc9378f084afe6dd7306
      size: 94
    - path: reports/fasttext-fi-kirjastonhoitaja.json
      hash: md5
      md5: 3379d942615ecffa0016bd53a17cad32
      size: 93
    - path: reports/fasttext-fi-satakunnan-kansa.json
      hash: md5
      md5: 69968f48839a926fd5d16e062850b99f
      size: 92
    - path: reports/fasttext-fi-vapaakappaleet-orig.json
      hash: md5
      md5: 6cb21e17eae35f6f7ac9459b80796997
      size: 94
  eval-fi@mllm-fi:
    cmd:
    - venv/bin/annif eval yso-mllm-fi -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-fi-jyu-theses.json corpora/fulltext-test/fi/jyu-theses/
    - venv/bin/annif eval yso-mllm-fi -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-fi-kirjaesittelyt2021.json 
      corpora/fulltext-test/fi/kirjaesittelyt2021/
    - venv/bin/annif eval yso-mllm-fi -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-fi-kirjastonhoitaja.json 
      corpora/fulltext-test/fi/kirjastonhoitaja/
    - venv/bin/annif eval yso-mllm-fi -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-fi-satakunnan-kansa.json 
      corpora/fulltext-test/fi/satakunnan-kansa-?/
    - venv/bin/annif eval yso-mllm-fi -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-fi-vapaakappaleet-orig.json 
      corpora/fulltext-test/fi/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/fi
      hash: md5
      md5: 45cd5e224eb7cd03251563c81a50bee1.dir
      size: 385776875
      nfiles: 7267
    - path: data/projects/yso-mllm-fi
      hash: md5
      md5: 7eca23a2ab4125b4178ee7fc54e7b885.dir
      size: 35173940
      nfiles: 2
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    params:
      projects.toml:
        yso-mllm-fi:
          name: YSO MLLM Finnish
          language: fi
          backend: mllm
          analyzer: voikko(fi)
          vocab: yso
          limit: '1000'
          transform: limit(3000000)
          access: hidden
    outs:
    - path: reports/mllm-fi-jyu-theses.json
      hash: md5
      md5: 9821c41395fc5d49fadb791b5c617139
      size: 92
    - path: reports/mllm-fi-kirjaesittelyt2021.json
      hash: md5
      md5: fa3e5b47d2309f5463a60dabbb24cab1
      size: 92
    - path: reports/mllm-fi-kirjastonhoitaja.json
      hash: md5
      md5: 03206fd12f74a513dfceaa3520aac34a
      size: 92
    - path: reports/mllm-fi-satakunnan-kansa.json
      hash: md5
      md5: f86f7ee163170eafbfd52abfb12645ef
      size: 94
    - path: reports/mllm-fi-vapaakappaleet-orig.json
      hash: md5
      md5: a8e2f2c1ed537b9e57c814f5703149da
      size: 93
  eval-fi@bonsai-fi:
    cmd:
    - venv/bin/annif eval yso-bonsai-fi -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-fi-jyu-theses.json corpora/fulltext-test/fi/jyu-theses/
    - venv/bin/annif eval yso-bonsai-fi -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-fi-kirjaesittelyt2021.json 
      corpora/fulltext-test/fi/kirjaesittelyt2021/
    - venv/bin/annif eval yso-bonsai-fi -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-fi-kirjastonhoitaja.json 
      corpora/fulltext-test/fi/kirjastonhoitaja/
    - venv/bin/annif eval yso-bonsai-fi -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-fi-satakunnan-kansa.json 
      corpora/fulltext-test/fi/satakunnan-kansa-?/
    - venv/bin/annif eval yso-bonsai-fi -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-fi-vapaakappaleet-orig.json 
      corpora/fulltext-test/fi/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/fi
      hash: md5
      md5: 45cd5e224eb7cd03251563c81a50bee1.dir
      size: 385776875
      nfiles: 7267
    - path: data/projects/yso-bonsai-fi
      hash: md5
      md5: bd8b8eb2cdc531620bccabed7c25511d.dir
      size: 5400396547
      nfiles: 6
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    params:
      projects.toml:
        yso-bonsai-fi:
          name: YSO Omikuji Bonsai Finnish
          language: fi
          backend: omikuji
          analyzer: snowball(finnish)
          vocab: yso
          cluster_balanced: 'False'
          cluster_k: '100'
          max_depth: '3'
          min_df: '5'
          ngram: '2'
          limit: '1000'
          transform: limit(5000)
          access: hidden
    outs:
    - path: reports/bonsai-fi-jyu-theses.json
      hash: md5
      md5: 6c2a1a6223226f8c224258bc00d95593
      size: 93
    - path: reports/bonsai-fi-kirjaesittelyt2021.json
      hash: md5
      md5: 045632feb4675f7401cd515c83a97223
      size: 94
    - path: reports/bonsai-fi-kirjastonhoitaja.json
      hash: md5
      md5: f2fd5fa6dc913ffcca731dff67523c58
      size: 94
    - path: reports/bonsai-fi-satakunnan-kansa.json
      hash: md5
      md5: e8453df6ecc5d12411e869a7cb26c33f
      size: 93
    - path: reports/bonsai-fi-vapaakappaleet-orig.json
      hash: md5
      md5: b798c92fc604d969463a675f6eb032c2
      size: 92
  eval-en@mllm-en:
    cmd:
    - venv/bin/annif eval yso-mllm-en -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-en-abo-theses.json corpora/fulltext-test/en/abo-theses/
    - venv/bin/annif eval yso-mllm-en -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-en-jyu-theses.json corpora/fulltext-test/en/jyu-theses/
    - venv/bin/annif eval yso-mllm-en -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-en-kirjaesittelyt2021.json 
      corpora/fulltext-test/en/kirjaesittelyt2021/
    - venv/bin/annif eval yso-mllm-en -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-en-vapaakappaleet-orig.json 
      corpora/fulltext-test/en/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/en
      hash: md5
      md5: aa34212ea9e8d4ca966a93687d292131.dir
      size: 332654338
      nfiles: 3831
    - path: data/projects/yso-mllm-en
      hash: md5
      md5: 741ccbbb9f5f735ce2adfc3636abf509.dir
      size: 40141377
      nfiles: 2
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    params:
      projects.toml:
        yso-mllm-en:
          name: YSO MLLM English
          language: en
          backend: mllm
          analyzer: snowball(english)
          vocab: yso
          limit: '1000'
          transform: limit(2500000)
          access: hidden
    outs:
    - path: reports/mllm-en-abo-theses.json
      hash: md5
      md5: b67545142b8b1a1f39b4ef03fece5261
      size: 92
    - path: reports/mllm-en-jyu-theses.json
      hash: md5
      md5: c916f0bd0fd7853cfab6269b4580ad92
      size: 93
    - path: reports/mllm-en-kirjaesittelyt2021.json
      hash: md5
      md5: ff0bf5d65abd5d7b8e82d02891fb1cf8
      size: 92
    - path: reports/mllm-en-vapaakappaleet-orig.json
      hash: md5
      md5: 0868458ca7e9c1c780a7587bd190da30
      size: 94
  eval-sv@bonsai-sv:
    cmd:
    - venv/bin/annif eval yso-bonsai-sv -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-sv-abo-theses.json corpora/fulltext-test/sv/abo-theses/
    - venv/bin/annif eval yso-bonsai-sv -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-sv-jyu-theses.json corpora/fulltext-test/sv/jyu-theses/
    - venv/bin/annif eval yso-bonsai-sv -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-sv-kirjaesittelyt2021.json 
      corpora/fulltext-test/sv/kirjaesittelyt2021/
    - venv/bin/annif eval yso-bonsai-sv -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/bonsai-sv-vapaakappaleet-orig.json 
      corpora/fulltext-test/sv/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/sv
      hash: md5
      md5: dec6a4a7146cc85c670b1a7f7cad4d3c.dir
      size: 66738096
      nfiles: 1878
    - path: data/projects/yso-bonsai-sv
      hash: md5
      md5: cd35b1aa2d36e15f67cff636c3757b68.dir
      size: 1067122451
      nfiles: 6
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    params:
      projects.toml:
        yso-bonsai-sv:
          name: YSO Omikuji Bonsai Swedish
          language: sv
          backend: omikuji
          analyzer: snowball(swedish)
          vocab: yso
          cluster_balanced: 'False'
          cluster_k: '100'
          max_depth: '3'
          min_df: '2'
          ngram: '2'
          limit: '1000'
          transform: limit(5000)
          access: hidden
    outs:
    - path: reports/bonsai-sv-abo-theses.json
      hash: md5
      md5: e33fc0af4f4a112bda38c1194e2a0ed7
      size: 94
    - path: reports/bonsai-sv-jyu-theses.json
      hash: md5
      md5: be403667ea9998e0d8e5c62c1084ca74
      size: 91
    - path: reports/bonsai-sv-kirjaesittelyt2021.json
      hash: md5
      md5: d5e0043c888f4809a93a745e548d5995
      size: 93
    - path: reports/bonsai-sv-vapaakappaleet-orig.json
      hash: md5
      md5: 2ba269cf338e766eef99c3b25dcf6822
      size: 90
  eval-sv@mllm-sv:
    cmd:
    - venv/bin/annif eval yso-mllm-sv -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-sv-abo-theses.json corpora/fulltext-test/sv/abo-theses/
    - venv/bin/annif eval yso-mllm-sv -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-sv-jyu-theses.json corpora/fulltext-test/sv/jyu-theses/
    - venv/bin/annif eval yso-mllm-sv -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-sv-kirjaesittelyt2021.json 
      corpora/fulltext-test/sv/kirjaesittelyt2021/
    - venv/bin/annif eval yso-mllm-sv -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/mllm-sv-vapaakappaleet-orig.json 
      corpora/fulltext-test/sv/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/sv
      hash: md5
      md5: dec6a4a7146cc85c670b1a7f7cad4d3c.dir
      size: 66738096
      nfiles: 1878
    - path: data/projects/yso-mllm-sv
      hash: md5
      md5: 4dd42073d3c6cea1f01e7170a0ff2709.dir
      size: 18600554
      nfiles: 2
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    params:
      projects.toml:
        yso-mllm-sv:
          name: YSO MLLM Swedish
          language: sv
          backend: mllm
          analyzer: snowball(swedish)
          vocab: yso
          limit: '1000'
          transform: limit(3000000)
          access: hidden
    outs:
    - path: reports/mllm-sv-abo-theses.json
      hash: md5
      md5: d106468744afee47a1c414e86a74ad25
      size: 93
    - path: reports/mllm-sv-jyu-theses.json
      hash: md5
      md5: d40615fdaf713395e10e0b3250eed290
      size: 92
    - path: reports/mllm-sv-kirjaesittelyt2021.json
      hash: md5
      md5: 0644308d471f22da6f467d608d546823
      size: 94
    - path: reports/mllm-sv-vapaakappaleet-orig.json
      hash: md5
      md5: e39932d34e14409883e5516d9dbabb4c
      size: 92
  eval-fi@fi:
    cmd:
    - venv/bin/annif eval yso-fi -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/fi-jyu-theses.json corpora/fulltext-test/fi/jyu-theses/
    - venv/bin/annif eval yso-fi -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/fi-kirjaesittelyt2021.json 
      corpora/fulltext-test/fi/kirjaesittelyt2021/
    - venv/bin/annif eval yso-fi -j 1 -m F1@5 -m NDCG --metrics-file 
      reports/fi-kirjastonhoitaja.json 
      corpora/fulltext-test/fi/kirjastonhoitaja/
    - venv/bin/annif eval yso-fi -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/fi-satakunnan-kansa.json 
      corpora/fulltext-test/fi/satakunnan-kansa-?/
    - venv/bin/annif eval yso-fi -j 10 -m F1@5 -m NDCG --metrics-file 
      reports/fi-vapaakappaleet-orig.json 
      corpora/fulltext-test/fi/vapaakappaleet-orig/
    deps:
    - path: corpora/fulltext-test/fi
      hash: md5
      md5: 45cd5e224eb7cd03251563c81a50bee1.dir
      size: 385776875
      nfiles: 7267
    - path: data/projects/yso-fi
      hash: md5
      md5: cf46331c49b09ae1c56f8b858e0407da.dir
      size: 1263210783
      nfiles: 3
    - path: venv-installed
      hash: md5
      md5: 523462aeae7c59a03b16e78545cce02c
      size: 41
    params:
      projects.toml:
        yso-fi:
          name: YSO suomi (2025.7.Laotse)
          language: fi
          backend: nn_ensemble
          sources: 
            yso-mllm-fi:0.1492,yso-fasttext-fi:0.6090,yso-bonsai-fi:0.2418
          limit: '100'
          vocab: yso
          nodes: '100'
          dropout_rate: '0.2'
          epochs: '10'
    outs:
    - path: reports/fi-jyu-theses.json
      hash: md5
      md5: f45d395bd3987c7316481c23983d20a6
      size: 92
    - path: reports/fi-kirjaesittelyt2021.json
      hash: md5
      md5: b77218317c5a65b8361a6d7f7401627b
      size: 94
    - path: reports/fi-kirjastonhoitaja.json
      hash: md5
      md5: 0c8acc415ffafc5c324d565f21a1f245
      size: 92
    - path: reports/fi-satakunnan-kansa.json
      hash: md5
      md5: bb74ae6d35d8a8d6c07bda1a77224c81
      size: 92
    - path: reports/fi-vapaakappaleet-orig.json
      hash: md5
      md5: ff1de1660a81a4c74af12d6f7899e4f0
      size: 94
